var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function l(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function i(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function c(t,e,n){t.$$.on_destroy.push(i(e,n))}function a(t,e,n,l){if(t){const s=u(t,e,n,l);return t[0](s)}}function u(t,n,l,s){return t[1]&&s?e(l.ctx.slice(),t[1](s(n))):l.ctx}function f(t,e,n,l,s,o,r){const i=function(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let l=0;l<n;l+=1)t[l]=e.dirty[l]|s[l];return t}return e.dirty|s}return e.dirty}(e,l,s,o);if(i){const s=u(e,n,l,r);t.p(s,i)}}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function h(t,e){const n={};e=new Set(e);for(const l in t)e.has(l)||"$"===l[0]||(n[l]=t[l]);return n}function p(t,e,n=e){return t.set(n),e}let g,m=!1;function $(t,e,n,l){for(;t<e;){const s=t+(e-t>>1);n(s)<=l?t=s+1:e=s}return t}function v(t,e){m?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),l=new Int32Array(e.length);n[0]=-1;let s=0;for(let t=0;t<e.length;t++){const o=$(1,s+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;l[t]=n[o]+1;const r=o+1;n[r]=t,s=Math.max(r,s)}const o=[],r=[];let i=e.length-1;for(let t=n[s]+1;0!=t;t=l[t-1]){for(o.push(e[t-1]);i>=t;i--)r.push(e[i]);i--}for(;i>=0;i--)r.push(e[i]);o.reverse(),r.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<r.length;e++){for(;n<o.length&&r[e].claim_order>=o[n].claim_order;)n++;const l=n<o.length?o[n]:null;t.insertBefore(r[e],l)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function b(t,e,n){m&&!n?v(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function w(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function y(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function E(){return _(" ")}function N(){return _("")}function C(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function M(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function S(t,e){for(const n in e)M(t,n,e[n])}function L(t){return""===t?null:+t}function j(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function O(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}function A(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function q(t,e,n){t.classList[n?"add":"remove"](e)}function V(t){g=t}function I(){if(!g)throw new Error("Function called outside component initialization");return g}function z(t){I().$$.on_mount.push(t)}function H(){const t=I();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const s=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);l.slice().forEach((e=>{e.call(t,s)}))}}}function B(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const P=[],F=[],T=[],D=[],U=Promise.resolve();let X=!1;function J(){X||(X=!0,U.then(Q))}function Y(t){T.push(t)}function G(t){D.push(t)}let K=!1;const W=new Set;function Q(){if(!K){K=!0;do{for(let t=0;t<P.length;t+=1){const e=P[t];V(e),Z(e.$$)}for(V(null),P.length=0;F.length;)F.pop()();for(let t=0;t<T.length;t+=1){const e=T[t];W.has(e)||(W.add(e),e())}T.length=0}while(P.length);for(;D.length;)D.pop()();X=!1,K=!1,W.clear()}}function Z(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function lt(){et.r||s(et.c),et=et.p}function st(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ot(t,e,n,l){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}function rt(t,e){const n={},l={},s={$$scope:1};let o=t.length;for(;o--;){const r=t[o],i=e[o];if(i){for(const t in r)t in i||(l[t]=1);for(const t in i)s[t]||(n[t]=i[t],s[t]=1);t[o]=i}else for(const t in r)s[t]=1}for(const t in l)t in n||(n[t]=void 0);return n}function it(t){return"object"==typeof t&&null!==t?t:{}}function ct(t,e,n){const l=t.$$.props[e];void 0!==l&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function at(t){t&&t.c()}function ut(t,e,l,r){const{fragment:i,on_mount:c,on_destroy:a,after_update:u}=t.$$;i&&i.m(e,l),r||Y((()=>{const e=c.map(n).filter(o);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(Y)}function ft(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,n,o,r,i,c,a=[-1]){const u=g;V(e);const f=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:l(),dirty:a,skip_bound:!1};let d=!1;if(f.ctx=o?o(e,n.props||{},((t,n,...l)=>{const s=l.length?l[0]:n;return f.ctx&&i(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),d&&function(t,e){-1===t.$$.dirty[0]&&(P.push(t),J(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){m=!0;const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(w)}else f.fragment&&f.fragment.c();n.intro&&st(e.$$.fragment),ut(e,n.target,n.anchor,n.customElement),m=!1,Q()}V(u)}class ht{$destroy(){ft(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const pt=[];function gt(t,e){return{subscribe:mt(t,e).subscribe}}function mt(e,n=t){let l;const s=[];function o(t){if(r(e,t)&&(e=t,l)){const t=!pt.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),pt.push(n,e)}if(t){for(let t=0;t<pt.length;t+=2)pt[t][0](pt[t+1]);pt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(r,i=t){const c=[r,i];return s.push(c),1===s.length&&(l=n(o)||t),r(e),()=>{const t=s.indexOf(c);-1!==t&&s.splice(t,1),0===s.length&&(l(),l=null)}}}}function $t(e,n,l){const r=!Array.isArray(e),c=r?[e]:e,a=n.length<2;return gt(l,(e=>{let l=!1;const u=[];let f=0,d=t;const h=()=>{if(f)return;d();const l=n(r?u[0]:u,e);a?e(l):d=o(l)?l:t},p=c.map(((t,e)=>i(t,(t=>{u[e]=t,f&=~(1<<e),l&&h()}),(()=>{f|=1<<e}))));return l=!0,h(),function(){s(p),d()}}))}function vt(t){let n,l,s;const o=[t[2]];var r=t[0];function i(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return r&&(n=new r(i()),n.$on("routeEvent",t[7])),{c(){n&&at(n.$$.fragment),l=N()},m(t,e){n&&ut(n,t,e),b(t,l,e),s=!0},p(t,e){const s=4&e?rt(o,[it(t[2])]):{};if(r!==(r=t[0])){if(n){nt();const t=n;ot(t.$$.fragment,1,0,(()=>{ft(t,1)})),lt()}r?(n=new r(i()),n.$on("routeEvent",t[7]),at(n.$$.fragment),st(n.$$.fragment,1),ut(n,l.parentNode,l)):n=null}else r&&n.$set(s)},i(t){s||(n&&st(n.$$.fragment,t),s=!0)},o(t){n&&ot(n.$$.fragment,t),s=!1},d(t){t&&w(l),n&&ft(n,t)}}}function bt(t){let n,l,s;const o=[{params:t[1]},t[2]];var r=t[0];function i(t){let n={};for(let t=0;t<o.length;t+=1)n=e(n,o[t]);return{props:n}}return r&&(n=new r(i()),n.$on("routeEvent",t[6])),{c(){n&&at(n.$$.fragment),l=N()},m(t,e){n&&ut(n,t,e),b(t,l,e),s=!0},p(t,e){const s=6&e?rt(o,[2&e&&{params:t[1]},4&e&&it(t[2])]):{};if(r!==(r=t[0])){if(n){nt();const t=n;ot(t.$$.fragment,1,0,(()=>{ft(t,1)})),lt()}r?(n=new r(i()),n.$on("routeEvent",t[6]),at(n.$$.fragment),st(n.$$.fragment,1),ut(n,l.parentNode,l)):n=null}else r&&n.$set(s)},i(t){s||(n&&st(n.$$.fragment,t),s=!0)},o(t){n&&ot(n.$$.fragment,t),s=!1},d(t){t&&w(l),n&&ft(n,t)}}}function wt(t){let e,n,l,s;const o=[bt,vt],r=[];function i(t,e){return t[1]?0:1}return e=i(t),n=r[e]=o[e](t),{c(){n.c(),l=N()},m(t,n){r[e].m(t,n),b(t,l,n),s=!0},p(t,[s]){let c=e;e=i(t),e===c?r[e].p(t,s):(nt(),ot(r[c],1,1,(()=>{r[c]=null})),lt(),n=r[e],n?n.p(t,s):(n=r[e]=o[e](t),n.c()),st(n,1),n.m(l.parentNode,l))},i(t){s||(st(n),s=!0)},o(t){ot(n),s=!1},d(t){r[e].d(t),t&&w(l)}}}function xt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let l="";return n>-1&&(l=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:l}}const yt=gt(null,(function(t){t(xt());const e=()=>{t(xt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}}));$t(yt,(t=>t.location)),$t(yt,(t=>t.querystring));const kt=mt(void 0);function _t(t,e,n){let{routes:l={}}=e,{prefix:s=""}=e,{restoreScrollState:o=!1}=e;class r{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:l}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,l,s,o,r=[],i="",c=t.split("/");for(c[0]||c.shift();s=c.shift();)"*"===(n=s[0])?(r.push("wild"),i+="/(.*)"):":"===n?(l=s.indexOf("?",1),o=s.indexOf(".",1),r.push(s.substring(1,~l?l:~o?o:s.length)),i+=~l&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(i+=(~l?"?":"")+"\\"+s.substring(o))):i+="/"+s;return{keys:r,pattern:new RegExp("^"+i+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=l}match(t){if(s)if("string"==typeof s){if(!t.startsWith(s))return null;t=t.substr(s.length)||"/"}else if(s instanceof RegExp){const e=t.match(s);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let l=0;for(;l<this._keys.length;){try{n[this._keys[l]]=decodeURIComponent(e[l+1]||"")||null}catch(t){n[this._keys[l]]=null}l++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const i=[];l instanceof Map?l.forEach(((t,e)=>{i.push(new r(e,t))})):Object.keys(l).forEach((t=>{i.push(new r(t,l[t]))}));let c=null,a=null,u={};const f=H();async function d(t,e){await(J(),U),f(t,e)}let h=null,p=null;var g;o&&(p=t=>{h=t.state&&t.state.__svelte_spa_router_scrollY?t.state:null},window.addEventListener("popstate",p),g=()=>{h?window.scrollTo(h.__svelte_spa_router_scrollX,h.__svelte_spa_router_scrollY):window.scrollTo(0,0)},I().$$.after_update.push(g));let m=null,$=null;const v=yt.subscribe((async t=>{m=t;let e=0;for(;e<i.length;){const l=i[e].match(t.location);if(!l){e++;continue}const s={route:i[e].path,location:t.location,querystring:t.querystring,userData:i[e].userData,params:l&&"object"==typeof l&&Object.keys(l).length?l:null};if(!await i[e].checkConditions(s))return n(0,c=null),$=null,void d("conditionsFailed",s);d("routeLoading",Object.assign({},s));const o=i[e].component;if($!=o){o.loading?(n(0,c=o.loading),$=o,n(1,a=o.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},s,{component:c,name:c.name,params:a}))):(n(0,c=null),$=null);const e=await o();if(t!=m)return;n(0,c=e&&e.default||e),$=o}return l&&"object"==typeof l&&Object.keys(l).length?n(1,a=l):n(1,a=null),n(2,u=i[e].props),void d("routeLoaded",Object.assign({},s,{component:c,name:c.name,params:a})).then((()=>{kt.set(a)}))}n(0,c=null),$=null,kt.set(void 0)}));return function(t){I().$$.on_destroy.push(t)}((()=>{v(),p&&window.removeEventListener("popstate",p)})),t.$$set=t=>{"routes"in t&&n(3,l=t.routes),"prefix"in t&&n(4,s=t.prefix),"restoreScrollState"in t&&n(5,o=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=o?"manual":"auto")},[c,a,u,l,s,o,function(e){B.call(this,t,e)},function(e){B.call(this,t,e)}]}class Et extends ht{constructor(t){super(),dt(this,t,_t,wt,r,{routes:3,prefix:4,restoreScrollState:5})}}const Nt=["use"],Ct=["cosine-cluster","cosine-tsne-5","cosine-tsne-cluster-5","cosine-tsne-20","cosine-tsne-cluster-20","cosine-tsne-50","cosine-tsne-cluster-50","euclidean-cluster","euclidean-tsne-5","euclidean-tsne-cluster-5","euclidean-tsne-20","euclidean-tsne-cluster-20","euclidean-tsne-50","euclidean-tsne-cluster-50","matrix-cosine-mini","matrix-euclidean-mini"],Mt={nnlm:[32,64,null],use:[null]},St=[1,3,5,8,10,12],Lt={1:[0,2],3:[0,4],5:[0,6],8:[7,9],10:[7,11],12:[7,13]},jt=[14,15],Rt=mt([]),Ot=mt({}),At=mt(!1),qt=mt([]),Vt=mt(1),It=mt([]),zt=mt(1),Ht=mt(null),Bt=mt(null),Pt=mt(0),Ft=mt([]),Tt=mt([]),Dt=$t(zt,(t=>Math.floor(t/St.length))),Ut=t=>fetch(t).then((t=>t.text())).then((t=>{t.length-t.lastIndexOf("\n")==1&&(t=t.substr(0,t.length-1));return t.split("\n").map((t=>t.split("\t")))})),Xt=async()=>{const t=[],e=[];for(let n=0;n<Nt.length;n+=1){let l=[];Object.keys(Mt).forEach((t=>{Nt[n].indexOf(t)>-1&&(l=Mt[t])}));for(let s=0;s<l.length;s+=1){t.push({pca:l[s],type:Nt[n]}),e.push([]);for(let t=0;t<Ct.length;t+=1)e[e.length-1].push(await Ut(`https://ssl.webpack.de/prjcts.sebastianmeier.eu/muc23/compare-ui/public/data/${l[s]?l[s]+"_":""}${Nt[n]}-${Ct[t]}.tsv`))}}const n=await Ut("https://ssl.webpack.de/prjcts.sebastianmeier.eu/muc23/compare-ui/public/data/use-metadata.tsv");Rt.set(n.map((t=>t[0])));const l=await(s="https://ssl.webpack.de/prjcts.sebastianmeier.eu/muc23/compare-ui/public/data/clusterLabels.json",fetch(s).then((t=>t.json())).then((t=>t)));var s;Ot.set(l);const o=[],r=[];e.forEach(((e,n)=>{const s=[];jt.forEach((t=>{s.push(e[t])})),r.push(s),St.forEach((s=>{const r=[],i=[],c={};e[s].forEach((t=>{r.push([parseFloat(t[0]),parseFloat(t[1])])})),Lt[s].forEach(((t,n)=>{const l=[],s={};e[t].forEach(((t,e)=>{i.length<e+1&&i.push([]),i[e].push(parseInt(t[0])),t[0]in s||(l.push({key:parseInt(t[0]),count:0}),s[t[0]]=l.length-1),l[s[t[0]]].count+=1})),c[n]=l})),o.push({pca:t[n].pca,type:t[n].type,key:Ct[s],positions:r,clusters:i,clusterLabels:l[s],clusterList:c})}))})),qt.set(o),Ft.set(r),At.set(!0)},Jt=mt(JSON.parse(localStorage.getItem("taxonomies")||"[]").map((t=>(t.ids=t.ids.map((t=>parseInt(t.toString()))),t))));Jt.subscribe((t=>{localStorage.setItem("taxonomies",JSON.stringify(t))}));const Yt=$t(Jt,(t=>{const e={};return t.forEach(((t,n)=>{t.ids.forEach((t=>{e[t]=n}))})),e}));var Gt,Kt=new Uint8Array(16);function Wt(){if(!Gt&&!(Gt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Gt(Kt)}var Qt=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Zt(t){return"string"==typeof t&&Qt.test(t)}for(var te=[],ee=0;ee<256;++ee)te.push((ee+256).toString(16).substr(1));function ne(t,e,n){var l=(t=t||{}).random||(t.rng||Wt)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=l[s];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(te[t[e+0]]+te[t[e+1]]+te[t[e+2]]+te[t[e+3]]+"-"+te[t[e+4]]+te[t[e+5]]+"-"+te[t[e+6]]+te[t[e+7]]+"-"+te[t[e+8]]+te[t[e+9]]+"-"+te[t[e+10]]+te[t[e+11]]+te[t[e+12]]+te[t[e+13]]+te[t[e+14]]+te[t[e+15]]).toLowerCase();if(!Zt(n))throw TypeError("Stringified UUID is invalid");return n}(l)}function le(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function se(t,e){var n=Object.create(t.prototype);for(var l in e)n[l]=e[l];return n}function oe(){}var re=.7,ie=1/re,ce="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fe=/^#([0-9a-f]{3,8})$/,de=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),he=new RegExp(`^rgb\\(${ue},${ue},${ue}\\)$`),pe=new RegExp(`^rgba\\(${ce},${ce},${ce},${ae}\\)$`),ge=new RegExp(`^rgba\\(${ue},${ue},${ue},${ae}\\)$`),me=new RegExp(`^hsl\\(${ae},${ue},${ue}\\)$`),$e=new RegExp(`^hsla\\(${ae},${ue},${ue},${ae}\\)$`),ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function be(){return this.rgb().formatHex()}function we(){return this.rgb().formatRgb()}function xe(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=fe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?ye(e):3===n?new Ee(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ke(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ke(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=de.exec(t))?new Ee(e[1],e[2],e[3],1):(e=he.exec(t))?new Ee(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=pe.exec(t))?ke(e[1],e[2],e[3],e[4]):(e=ge.exec(t))?ke(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=me.exec(t))?je(e[1],e[2]/100,e[3]/100,1):(e=$e.exec(t))?je(e[1],e[2]/100,e[3]/100,e[4]):ve.hasOwnProperty(t)?ye(ve[t]):"transparent"===t?new Ee(NaN,NaN,NaN,0):null}function ye(t){return new Ee(t>>16&255,t>>8&255,255&t,1)}function ke(t,e,n,l){return l<=0&&(t=e=n=NaN),new Ee(t,e,n,l)}function _e(t){return t instanceof oe||(t=xe(t)),t?new Ee((t=t.rgb()).r,t.g,t.b,t.opacity):new Ee}function Ee(t,e,n,l){this.r=+t,this.g=+e,this.b=+n,this.opacity=+l}function Ne(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}`}function Ce(){const t=Me(this.opacity);return`${1===t?"rgb(":"rgba("}${Se(this.r)}, ${Se(this.g)}, ${Se(this.b)}${1===t?")":`, ${t})`}`}function Me(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Se(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Le(t){return((t=Se(t))<16?"0":"")+t.toString(16)}function je(t,e,n,l){return l<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Oe(t,e,n,l)}function Re(t){if(t instanceof Oe)return new Oe(t.h,t.s,t.l,t.opacity);if(t instanceof oe||(t=xe(t)),!t)return new Oe;if(t instanceof Oe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,l=t.b/255,s=Math.min(e,n,l),o=Math.max(e,n,l),r=NaN,i=o-s,c=(o+s)/2;return i?(r=e===o?(n-l)/i+6*(n<l):n===o?(l-e)/i+2:(e-n)/i+4,i/=c<.5?o+s:2-o-s,r*=60):i=c>0&&c<1?0:r,new Oe(r,i,c,t.opacity)}function Oe(t,e,n,l){this.h=+t,this.s=+e,this.l=+n,this.opacity=+l}function Ae(t){return(t=(t||0)%360)<0?t+360:t}function qe(t){return Math.max(0,Math.min(1,t||0))}function Ve(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ie(t,e,n){const l=t.slice();return l[27]=e[n],l}function ze(t,e,n){const l=t.slice();return l[27]=e[n],l}function He(t){let e,n,l=t[5],s=[];for(let e=0;e<l.length;e+=1)s[e]=Be(ze(t,l,e));let o=t[4],r=[];for(let e=0;e<o.length;e+=1)r[e]=Pe(Ie(t,o,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=N();for(let t=0;t<r.length;t+=1)r[t].c();n=N()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);b(t,e,l);for(let e=0;e<r.length;e+=1)r[e].m(t,l);b(t,n,l)},p(t,i){if(1576&i[0]){let n;for(l=t[5],n=0;n<l.length;n+=1){const o=ze(t,l,n);s[n]?s[n].p(o,i):(s[n]=Be(o),s[n].c(),s[n].m(e.parentNode,e))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}if(1560&i[0]){let e;for(o=t[4],e=0;e<o.length;e+=1){const l=Ie(t,o,e);r[e]?r[e].p(l,i):(r[e]=Pe(l),r[e].c(),r[e].m(n.parentNode,n))}for(;e<r.length;e+=1)r[e].d(1);r.length=o.length}},d(t){x(s,t),t&&w(e),x(r,t),t&&w(n)}}}function Be(t){let e,n,l;return{c(){e=k("circle"),M(e,"class","selection svelte-1sxxlpy"),M(e,"cx",n=t[9](t[3][t[27]])),M(e,"cy",l=t[10](t[3][t[27]])),M(e,"r","3")},m(t,n){b(t,e,n)},p(t,s){40&s[0]&&n!==(n=t[9](t[3][t[27]]))&&M(e,"cx",n),40&s[0]&&l!==(l=t[10](t[3][t[27]]))&&M(e,"cy",l)},d(t){t&&w(e)}}}function Pe(t){let e,n,l;return{c(){e=k("circle"),M(e,"class","selection svelte-1sxxlpy"),M(e,"cx",n=t[9](t[3][t[27]])),M(e,"cy",l=t[10](t[3][t[27]])),M(e,"r","7")},m(t,n){b(t,e,n)},p(t,s){24&s[0]&&n!==(n=t[9](t[3][t[27]]))&&M(e,"cx",n),24&s[0]&&l!==(l=t[10](t[3][t[27]]))&&M(e,"cy",l)},d(t){t&&w(e)}}}function Fe(e){let n,l,s,o,r,i,c,a,u,f,d,h=e[6]&&He(e);return{c(){n=y("div"),l=y("div"),s=y("canvas"),o=E(),r=k("svg"),h&&h.c(),i=E(),c=y("p"),a=y("span"),u=_(e[7]),M(s,"id",e[8]),M(s,"width",Te),M(s,"height",De),M(s,"class","svelte-1sxxlpy"),M(r,"width",Te),M(r,"height",De),M(r,"class","svelte-1sxxlpy"),M(l,"class","svelte-1sxxlpy"),M(a,"class","svelte-1sxxlpy"),q(a,"active",e[2]),M(c,"class","svelte-1sxxlpy"),M(n,"class","tsne-container svelte-1sxxlpy"),O(n,"--tsne-width",Te+"px"),O(n,"--tsne-height",De+"px")},m(t,p){b(t,n,p),v(n,l),v(l,s),v(l,o),v(l,r),h&&h.m(r,null),v(n,i),v(n,c),v(c,a),v(a,u),f||(d=C(n,"click",e[25]),f=!0)},p(t,e){t[6]?h?h.p(t,e):(h=He(t),h.c(),h.m(r,null)):h&&(h.d(1),h=null),128&e[0]&&j(u,t[7]),4&e[0]&&q(a,"active",t[2])},i:t,o:t,d(t){t&&w(n),h&&h.d(),f=!1,d()}}}le(oe,xe,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:be,formatHex:be,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Re(this).formatHsl()},formatRgb:we,toString:we}),le(Ee,(function(t,e,n,l){return 1===arguments.length?_e(t):new Ee(t,e,n,null==l?1:l)}),se(oe,{brighter(t){return t=null==t?ie:Math.pow(ie,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?re:Math.pow(re,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ee(Se(this.r),Se(this.g),Se(this.b),Me(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ne,formatHex:Ne,formatHex8:function(){return`#${Le(this.r)}${Le(this.g)}${Le(this.b)}${Le(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:Ce,toString:Ce})),le(Oe,(function(t,e,n,l){return 1===arguments.length?Re(t):new Oe(t,e,n,null==l?1:l)}),se(oe,{brighter(t){return t=null==t?ie:Math.pow(ie,t),new Oe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?re:Math.pow(re,t),new Oe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,l=n+(n<.5?n:1-n)*e,s=2*n-l;return new Ee(Ve(t>=240?t-240:t+120,s,l),Ve(t,s,l),Ve(t<120?t+240:t-120,s,l),this.opacity)},clamp(){return new Oe(Ae(this.h),qe(this.s),qe(this.l),Me(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Me(this.opacity);return`${1===t?"hsl(":"hsla("}${Ae(this.h)}, ${100*qe(this.s)}%, ${100*qe(this.l)}%${1===t?")":`, ${t})`}`}}));let Te=150,De=150;function Ue(t,e,n){let l,s,o,r,i,a,u,f;c(t,Yt,(t=>n(18,s=t))),c(t,Jt,(t=>n(19,o=t))),c(t,Vt,(t=>n(20,r=t))),c(t,Bt,(t=>n(21,i=t))),c(t,Ht,(t=>n(22,a=t))),c(t,qt,(t=>n(23,u=t))),c(t,zt,(t=>n(24,f=t)));let{index:d=0}=e,{setActiveIndex:h}=e,{active:p}=e,{type:g=""}=e,{key:m=""}=e,{clusterMode:$}=e,{positions:v=[]}=e,{clusters:b}=e,{selected:w=[]}=e,{selectedNeighbors:x=[]}=e,{color:y}=e;const k="uuid_"+ne().split("-").join("_");let _=[0,0],E=[0,0];const N=t=>5+(t[0]-_[0])/(E[0]-_[0])*(Te-10),C=t=>5+(t[1]-_[1])/(E[1]-_[1])*(De-10);let M=!1;z((()=>{n(6,M=!0)}));const S=(t,e)=>`rgba(${t.r},${t.g},${t.b},${e})`;return t.$$set=t=>{"index"in t&&n(0,d=t.index),"setActiveIndex"in t&&n(1,h=t.setActiveIndex),"active"in t&&n(2,p=t.active),"type"in t&&n(11,g=t.type),"key"in t&&n(12,m=t.key),"clusterMode"in t&&n(13,$=t.clusterMode),"positions"in t&&n(3,v=t.positions),"clusters"in t&&n(14,b=t.clusters),"selected"in t&&n(4,w=t.selected),"selectedNeighbors"in t&&n(5,x=t.selectedNeighbors),"color"in t&&n(15,y=t.color)},t.$$.update=()=>{if(6144&t.$$.dirty[0]&&n(7,l=`${g} - ${m}`),33546313&t.$$.dirty[0]&&M){const t=document.querySelector(`#${k}`).getContext("2d");t.clearRect(0,0,Te,De),n(16,_=[v[0][0],v[0][1]]),n(17,E=[v[0][0],v[0][1]]),v.forEach((t=>{t[0]<_[0]&&n(16,_[0]=t[0],_),t[1]<_[1]&&n(16,_[1]=t[1],_),t[0]>E[0]&&n(17,E[0]=t[0],E),t[1]>E[1]&&n(17,E[1]=t[1],E)})),v.forEach(((e,n)=>{const l=n in s?o[s[n]].color:[150,150,150,1],c=$?{r:l[0],g:l[1],b:l[2]}:n<b.length&&b[n][r]>=0?xe(y(b[n][r].toString())):{r:150,g:150,b:150};t.fillStyle=$?null!=i?i===s[n]?S(c,1):S(c,.2):null!=a?u[f].clusters[n][r]===a?S(c,1):S(c,.2):S(c,1):null!=a?a===b[n][r]&&f===d||u[f].clusters[n][r]===a?S(c,1):S(c,.2):null!=i?n in s&&i===s[n]?S(c,1):S(c,.2):S(c,1),t.beginPath(),t.arc(N(e),C(e),1,0,2*Math.PI),t.fill()}))}},[d,h,p,v,w,x,M,l,k,N,C,g,m,$,b,y,_,E,s,o,r,i,a,u,f,()=>h(d)]}class Xe extends ht{constructor(t){super(),dt(this,t,Ue,Fe,r,{index:0,setActiveIndex:1,active:2,type:11,key:12,clusterMode:13,positions:3,clusters:14,selected:4,selectedNeighbors:5,color:15},[-1,-1])}}function Je(t){let e,n;return{c(){e=y("b"),e.textContent="←",n=_(" ")},m(t,l){b(t,e,l),b(t,n,l)},d(t){t&&w(e),t&&w(n)}}}function Ye(t){let e;return{c(){e=_(t[0])},m(t,n){b(t,e,n)},p(t,n){1&n&&j(e,t[0])},d(t){t&&w(e)}}}function Ge(t){let e,n;return{c(){e=y("strong"),n=_(t[0])},m(t,l){b(t,e,l),v(e,n)},p(t,e){1&e&&j(n,t[0])},d(t){t&&w(e)}}}function Ke(e){let n,l,s,o,r=e[3]&&Je();function i(t,e){return t[2]?Ge:Ye}let c=i(e),a=c(e);return{c(){n=y("button"),r&&r.c(),l=E(),a.c(),M(n,"class",e[1]),q(n,"stretch",e[4]),q(n,"invert",e[5])},m(t,i){b(t,n,i),r&&r.m(n,null),v(n,l),a.m(n,null),s||(o=C(n,"click",e[6]),s=!0)},p(t,[e]){t[3]?r||(r=Je(),r.c(),r.m(n,l)):r&&(r.d(1),r=null),c===(c=i(t))&&a?a.p(t,e):(a.d(1),a=c(t),a&&(a.c(),a.m(n,null))),2&e&&M(n,"class",t[1]),18&e&&q(n,"stretch",t[4]),34&e&&q(n,"invert",t[5])},i:t,o:t,d(t){t&&w(n),r&&r.d(),a.d(),s=!1,o()}}}function We(t,e,n){let{label:l=""}=e,{type:s=""}=e,{bold:o=!0}=e,{back:r=!1}=e,{stretch:i=!1}=e,{invert:c=!1}=e;return t.$$set=t=>{"label"in t&&n(0,l=t.label),"type"in t&&n(1,s=t.type),"bold"in t&&n(2,o=t.bold),"back"in t&&n(3,r=t.back),"stretch"in t&&n(4,i=t.stretch),"invert"in t&&n(5,c=t.invert)},[l,s,o,r,i,c,function(e){B.call(this,t,e)}]}class Qe extends ht{constructor(t){super(),dt(this,t,We,Ke,r,{label:0,type:1,bold:2,back:3,stretch:4,invert:5})}}function Ze(t){let n,l,o,r,i,c;const u=t[2].default,d=a(u,t,t[1],null);let h=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},t[0]],p={};for(let t=0;t<h.length;t+=1)p=e(p,h[t]);return{c(){n=k("svg"),d&&d.c(),l=k("path"),o=k("path"),M(l,"d","M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"),M(o,"d","M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"),S(n,p),q(n,"bi",!0),q(n,"bi-eye",!0)},m(e,s){b(e,n,s),d&&d.m(n,null),v(n,l),v(n,o),r=!0,i||(c=[C(n,"click",t[3]),C(n,"mouseover",t[4]),C(n,"mouseenter",t[5]),C(n,"mouseleave",t[6]),C(n,"keydown",t[7])],i=!0)},p(t,[e]){d&&d.p&&(!r||2&e)&&f(d,u,t,t[1],r?e:-1,null,null),S(n,p=rt(h,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&e&&t[0]])),q(n,"bi",!0),q(n,"bi-eye",!0)},i(t){r||(st(d,t),r=!0)},o(t){ot(d,t),r=!1},d(t){t&&w(n),d&&d.d(t),i=!1,s(c)}}}function tn(t,n,l){const s=[];let o=h(n,s),{$$slots:r={},$$scope:i}=n;return t.$$set=t=>{n=e(e({},n),d(t)),l(0,o=h(n,s)),"$$scope"in t&&l(1,i=t.$$scope)},[o,i,r,function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)}]}class en extends ht{constructor(t){super(),dt(this,t,tn,Ze,r,{})}}function nn(t){let n,l,o,r,i;const c=t[2].default,u=a(c,t,t[1],null);let d=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},t[0]],h={};for(let t=0;t<d.length;t+=1)h=e(h,d[t]);return{c(){n=k("svg"),u&&u.c(),l=k("path"),M(l,"d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"),S(n,h),q(n,"bi",!0),q(n,"bi-pencil",!0)},m(e,s){b(e,n,s),u&&u.m(n,null),v(n,l),o=!0,r||(i=[C(n,"click",t[3]),C(n,"mouseover",t[4]),C(n,"mouseenter",t[5]),C(n,"mouseleave",t[6]),C(n,"keydown",t[7])],r=!0)},p(t,[e]){u&&u.p&&(!o||2&e)&&f(u,c,t,t[1],o?e:-1,null,null),S(n,h=rt(d,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&e&&t[0]])),q(n,"bi",!0),q(n,"bi-pencil",!0)},i(t){o||(st(u,t),o=!0)},o(t){ot(u,t),o=!1},d(t){t&&w(n),u&&u.d(t),r=!1,s(i)}}}function ln(t,n,l){const s=[];let o=h(n,s),{$$slots:r={},$$scope:i}=n;return t.$$set=t=>{n=e(e({},n),d(t)),l(0,o=h(n,s)),"$$scope"in t&&l(1,i=t.$$scope)},[o,i,r,function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)}]}class sn extends ht{constructor(t){super(),dt(this,t,ln,nn,r,{})}}function on(t){let n,l,o,r,i,c;const u=t[2].default,d=a(u,t,t[1],null);let h=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},t[0]],p={};for(let t=0;t<h.length;t+=1)p=e(p,h[t]);return{c(){n=k("svg"),d&&d.c(),l=k("path"),o=k("path"),M(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),M(o,"fill-rule","evenodd"),M(o,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),S(n,p),q(n,"bi",!0),q(n,"bi-trash",!0)},m(e,s){b(e,n,s),d&&d.m(n,null),v(n,l),v(n,o),r=!0,i||(c=[C(n,"click",t[3]),C(n,"mouseover",t[4]),C(n,"mouseenter",t[5]),C(n,"mouseleave",t[6]),C(n,"keydown",t[7])],i=!0)},p(t,[e]){d&&d.p&&(!r||2&e)&&f(d,u,t,t[1],r?e:-1,null,null),S(n,p=rt(h,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&e&&t[0]])),q(n,"bi",!0),q(n,"bi-trash",!0)},i(t){r||(st(d,t),r=!0)},o(t){ot(d,t),r=!1},d(t){t&&w(n),d&&d.d(t),i=!1,s(c)}}}function rn(t,n,l){const s=[];let o=h(n,s),{$$slots:r={},$$scope:i}=n;return t.$$set=t=>{n=e(e({},n),d(t)),l(0,o=h(n,s)),"$$scope"in t&&l(1,i=t.$$scope)},[o,i,r,function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)},function(e){B.call(this,t,e)}]}class cn extends ht{constructor(t){super(),dt(this,t,rn,on,r,{})}}function an(t,e,n){const l=t.slice();return l[15]=e[n],l[17]=n,l}function un(t){let e,n,l,o,r,i,c,a,u,f,d,h,p=t[15].label+"";function g(...e){return t[9](t[17],t[15],...e)}function m(){return t[10](t[15])}return a=new en({}),a.$on("click",(function(...e){return t[8](t[15],...e)})),{c(){e=y("li"),n=y("input"),r=E(),i=y("label"),c=E(),at(a.$$.fragment),u=E(),M(n,"type","checkbox"),n.checked=l=t[0].includes(t[15].value),n.value=o=t[15].value,n.disabled=!0,M(n,"name","selection-"+t[2]),M(n,"id","selection-"+t[2]+"-"+t[17]),M(n,"class","svelte-15n7lgs"),M(i,"for","selection-"+t[2]+"-"+t[17]),M(i,"class","svelte-15n7lgs"),M(e,"class","svelte-15n7lgs"),q(e,"active",t[0].includes(t[15].value))},m(l,s){b(l,e,s),v(e,n),v(e,r),v(e,i),i.innerHTML=p,v(e,c),ut(a,e,null),v(e,u),f=!0,d||(h=[C(e,"click",g),C(e,"mouseover",m),C(e,"mouseout",t[11])],d=!0)},p(s,r){t=s,(!f||3&r&&l!==(l=t[0].includes(t[15].value)))&&(n.checked=l),(!f||2&r&&o!==(o=t[15].value))&&(n.value=o),(!f||2&r)&&p!==(p=t[15].label+"")&&(i.innerHTML=p),3&r&&q(e,"active",t[0].includes(t[15].value))},i(t){f||(st(a.$$.fragment,t),f=!0)},o(t){ot(a.$$.fragment,t),f=!1},d(t){t&&w(e),ft(a),d=!1,s(h)}}}function fn(t){let e,n,l,s,o,r,i=t[1],c=[];for(let e=0;e<i.length;e+=1)c[e]=un(an(t,i,e));const a=t=>ot(c[t],1,1,(()=>{c[t]=null}));return l=new Qe({props:{label:"Select all"}}),l.$on("click",t[12]),o=new Qe({props:{label:"Remove selection"}}),o.$on("click",t[13]),{c(){e=y("ul");for(let t=0;t<c.length;t+=1)c[t].c();n=E(),at(l.$$.fragment),s=E(),at(o.$$.fragment),M(e,"class","svelte-15n7lgs")},m(t,i){b(t,e,i);for(let t=0;t<c.length;t+=1)c[t].m(e,null);b(t,n,i),ut(l,t,i),b(t,s,i),ut(o,t,i),r=!0},p(t,[n]){if(31&n){let l;for(i=t[1],l=0;l<i.length;l+=1){const s=an(t,i,l);c[l]?(c[l].p(s,n),st(c[l],1)):(c[l]=un(s),c[l].c(),st(c[l],1),c[l].m(e,null))}for(nt(),l=i.length;l<c.length;l+=1)a(l);lt()}},i(t){if(!r){for(let t=0;t<i.length;t+=1)st(c[t]);st(l.$$.fragment,t),st(o.$$.fragment,t),r=!0}},o(t){c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)ot(c[t]);ot(l.$$.fragment,t),ot(o.$$.fragment,t),r=!1},d(t){t&&w(e),x(c,t),t&&w(n),ft(l,t),t&&w(s),ft(o,t)}}}function dn(t,e,n){const l=ne(),s=H();let{data:o=[]}=e,{selection:r=[]}=e,i=null;const c=(t,e,l)=>{const s=r;if(console.log(i,t.shiftKey),null!==i&&i!==e&&t.shiftKey){let t="add";s.includes(l.value)&&(t="remove");const n=[e,i].sort(((t,e)=>t-e));console.log(t,n,s);for(let e=n[0];e<=n[1];e+=1)"add"===t?s.includes(o[e].value)||s.push(o[e].value):s.includes(o[e].value)&&s.splice(s.indexOf(o[e].value),1)}else s.includes(l.value)?s.splice(s.indexOf(l.value),1):s.push(l.value);n(0,r=s),i=e},a=()=>{n(0,r=[])},u=()=>{const t=[];for(let e=0;e<o.length;e+=1)t.push(o[e].value);n(0,r=t)};return t.$$set=t=>{"data"in t&&n(1,o=t.data),"selection"in t&&n(0,r=t.selection)},[r,o,l,s,c,a,u,()=>{},(t,e)=>{s("setActivePosition",t.value),e.stopPropagation()},(t,e,n)=>c(n,t,e),t=>{s("over",t)},()=>{s("out")},()=>u(),()=>a()]}class hn extends ht{constructor(t){super(),dt(this,t,dn,fn,r,{onHover:7,data:1,selection:0})}get onHover(){return this.$$.ctx[7]}}class pn extends Map{constructor(t,e=mn){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(gn(this,t))}has(t){return super.has(gn(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const l=e(n);return t.has(l)?t.get(l):(t.set(l,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const l=e(n);t.has(l)&&(n=t.get(n),t.delete(l));return n}(this,t))}}function gn({_intern:t,_key:e},n){const l=e(n);return t.has(l)?t.get(l):n}function mn(t){return null!==t&&"object"==typeof t?t.valueOf():t}function $n(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const vn=Symbol("implicit");function bn(){var t=new pn,e=[],n=[],l=vn;function s(s){let o=t.get(s);if(void 0===o){if(l!==vn)return l;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return s.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new pn;for(const l of n)t.has(l)||t.set(l,e.push(l)-1);return s},s.range=function(t){return arguments.length?(n=Array.from(t),s):n.slice()},s.unknown=function(t){return arguments.length?(l=t,s):l},s.copy=function(){return bn(e,n).unknown(l)},$n.apply(s,arguments),s}var wn=function(t){for(var e=t.length/6|0,n=new Array(e),l=0;l<e;)n[l]="#"+t.slice(6*l,6*++l);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function xn(e){let n,l,s,o,r,i;return{c(){n=y("div"),l=y("img"),o=E(),r=y("p"),i=_(e[0]),l.src!==(s="build/assets/images/svg/logo-animation.svg")&&M(l,"src","build/assets/images/svg/logo-animation.svg"),M(l,"alt",e[0]),M(n,"class","loader")},m(t,e){b(t,n,e),v(n,l),v(n,o),v(n,r),v(r,i)},p(t,[e]){1&e&&M(l,"alt",t[0]),1&e&&j(i,t[0])},i:t,o:t,d(t){t&&w(n)}}}function yn(t,e,n){let{text:l=""}=e;return t.$$set=t=>{"text"in t&&n(0,l=t.text)},[l]}class kn extends ht{constructor(t){super(),dt(this,t,yn,xn,r,{text:0})}}function _n(t){let e,n;return{c(){e=y("label"),n=_(t[0]),M(e,"for",t[3])},m(t,l){b(t,e,l),v(e,n)},p(t,l){1&l&&j(n,t[0]),8&l&&M(e,"for",t[3])},d(t){t&&w(e)}}}function En(t){let e,n;return{c(){e=y("p"),n=_(t[1])},m(t,l){b(t,e,l),v(e,n)},p(t,e){2&e&&j(n,t[1])},d(t){t&&w(e)}}}function Nn(t){let e,n;return{c(){e=y("p"),n=_(t[2]),M(e,"class","warning")},m(t,l){b(t,e,l),v(e,n)},p(t,e){4&e&&j(n,t[2])},d(t){t&&w(e)}}}function Cn(t){let e,n,l,s,o,r=""!==t[0]&&_n(t),i=""!==t[1]&&En(t);const c=t[6].default,u=a(c,t,t[5],null);let d=""!==t[2]&&Nn(t);return{c(){e=y("div"),r&&r.c(),n=E(),i&&i.c(),l=E(),u&&u.c(),s=E(),d&&d.c(),M(e,"class","form-el"),q(e,"tight",t[4])},m(t,c){b(t,e,c),r&&r.m(e,null),v(e,n),i&&i.m(e,null),v(e,l),u&&u.m(e,null),v(e,s),d&&d.m(e,null),o=!0},p(t,[s]){""!==t[0]?r?r.p(t,s):(r=_n(t),r.c(),r.m(e,n)):r&&(r.d(1),r=null),""!==t[1]?i?i.p(t,s):(i=En(t),i.c(),i.m(e,l)):i&&(i.d(1),i=null),u&&u.p&&(!o||32&s)&&f(u,c,t,t[5],o?s:-1,null,null),""!==t[2]?d?d.p(t,s):(d=Nn(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),16&s&&q(e,"tight",t[4])},i(t){o||(st(u,t),o=!0)},o(t){ot(u,t),o=!1},d(t){t&&w(e),r&&r.d(),i&&i.d(),u&&u.d(t),d&&d.d()}}}function Mn(t,e,n){let{$$slots:l={},$$scope:s}=e,{label:o=""}=e,{description:r=""}=e,{warning:i=""}=e,{id:c=""}=e,{tight:a=!1}=e;return t.$$set=t=>{"label"in t&&n(0,o=t.label),"description"in t&&n(1,r=t.description),"warning"in t&&n(2,i=t.warning),"id"in t&&n(3,c=t.id),"tight"in t&&n(4,a=t.tight),"$$scope"in t&&n(5,s=t.$$scope)},[o,r,i,c,a,s,l]}class Sn extends ht{constructor(t){super(),dt(this,t,Mn,Cn,r,{label:0,description:1,warning:2,id:3,tight:4})}}function Ln(t,e,n){const l=t.slice();return l[7]=e[n],l}function jn(t){let e,n,l,s=t[7].label+"";return{c(){e=y("option"),n=_(s),e.__value=l=t[7].value,e.value=e.__value},m(t,l){b(t,e,l),v(e,n)},p(t,o){32&o&&s!==(s=t[7].label+"")&&j(n,s),32&o&&l!==(l=t[7].value)&&(e.__value=l,e.value=e.__value)},d(t){t&&w(e)}}}function Rn(t){let e,n,l,s,o=t[5],r=[];for(let e=0;e<o.length;e+=1)r[e]=jn(Ln(t,o,e));return{c(){e=y("select"),n=y("option"),n.textContent="Please choose";for(let t=0;t<r.length;t+=1)r[t].c();n.disabled=!0,n.__value="Please choose",n.value=n.__value,void 0===t[0]&&Y((()=>t[6].call(e)))},m(o,i){b(o,e,i),v(e,n);for(let t=0;t<r.length;t+=1)r[t].m(e,null);A(e,t[0]),l||(s=C(e,"change",t[6]),l=!0)},p(t,n){if(32&n){let l;for(o=t[5],l=0;l<o.length;l+=1){const s=Ln(t,o,l);r[l]?r[l].p(s,n):(r[l]=jn(s),r[l].c(),r[l].m(e,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=o.length}33&n&&A(e,t[0])},d(t){t&&w(e),x(r,t),l=!1,s()}}}function On(t){let e,n;return e=new Sn({props:{label:t[3],description:t[4],id:t[1],warning:t[2],$$slots:{default:[Rn]},$$scope:{ctx:t}}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,[n]){const l={};8&n&&(l.label=t[3]),16&n&&(l.description=t[4]),2&n&&(l.id=t[1]),4&n&&(l.warning=t[2]),1057&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function An(t,e,n){let{id:l=""}=e,{warning:s=""}=e,{label:o=""}=e,{description:r=""}=e,{value:i=""}=e,{values:c=[]}=e;return t.$$set=t=>{"id"in t&&n(1,l=t.id),"warning"in t&&n(2,s=t.warning),"label"in t&&n(3,o=t.label),"description"in t&&n(4,r=t.description),"value"in t&&n(0,i=t.value),"values"in t&&n(5,c=t.values)},[i,l,s,o,r,c,function(){i=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,i),n(5,c)}]}class qn extends ht{constructor(t){super(),dt(this,t,An,On,r,{id:1,warning:2,label:3,description:4,value:0,values:5})}}function Vn(t){let e,n,l,s,o,r,i,c,a,u,f,d,h;return{c(){e=y("div"),n=y("span"),l=_(t[5]),s=E(),o=y("label"),r=y("input"),i=E(),c=y("span"),a=E(),u=y("span"),f=_(t[6]),q(n,"inactive",t[0]),M(r,"type","checkbox"),M(r,"id",t[1]),M(o,"for",t[1]),q(u,"inactive",!t[0]),M(e,"class","toggle")},m(p,g){b(p,e,g),v(e,n),v(n,l),v(e,s),v(e,o),v(o,r),r.checked=t[0],v(o,i),v(o,c),v(e,a),v(e,u),v(u,f),d||(h=C(r,"change",t[7]),d=!0)},p(t,e){32&e&&j(l,t[5]),1&e&&q(n,"inactive",t[0]),2&e&&M(r,"id",t[1]),1&e&&(r.checked=t[0]),2&e&&M(o,"for",t[1]),64&e&&j(f,t[6]),1&e&&q(u,"inactive",!t[0])},d(t){t&&w(e),d=!1,h()}}}function In(t){let e,n;return e=new Sn({props:{label:t[3],description:t[4],id:t[1],warning:t[2],$$slots:{default:[Vn]},$$scope:{ctx:t}}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,[n]){const l={};8&n&&(l.label=t[3]),16&n&&(l.description=t[4]),2&n&&(l.id=t[1]),4&n&&(l.warning=t[2]),355&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function zn(t,e,n){let{id:l=""}=e,{warning:s=""}=e,{label:o=""}=e,{description:r=""}=e,{checked:i=!1}=e,{labelLeft:c="Ja"}=e,{labelRight:a="Nein"}=e;return t.$$set=t=>{"id"in t&&n(1,l=t.id),"warning"in t&&n(2,s=t.warning),"label"in t&&n(3,o=t.label),"description"in t&&n(4,r=t.description),"checked"in t&&n(0,i=t.checked),"labelLeft"in t&&n(5,c=t.labelLeft),"labelRight"in t&&n(6,a=t.labelRight)},[i,l,s,o,r,c,a,function(){i=this.checked,n(0,i)}]}class Hn extends ht{constructor(t){super(),dt(this,t,zn,In,r,{id:1,warning:2,label:3,description:4,checked:0,labelLeft:5,labelRight:6})}}function Bn(t){let e,n,l;return{c(){e=y("input"),M(e,"type","text"),M(e,"placeholder",t[5]),M(e,"name",t[1])},m(s,o){b(s,e,o),R(e,t[0]),n||(l=C(e,"input",t[7]),n=!0)},p(t,n){32&n&&M(e,"placeholder",t[5]),2&n&&M(e,"name",t[1]),1&n&&e.value!==t[0]&&R(e,t[0])},d(t){t&&w(e),n=!1,l()}}}function Pn(t){let e,n;return e=new Sn({props:{label:t[3],description:t[4],id:t[1],warning:t[2],tight:t[6],$$slots:{default:[Bn]},$$scope:{ctx:t}}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,[n]){const l={};8&n&&(l.label=t[3]),16&n&&(l.description=t[4]),2&n&&(l.id=t[1]),4&n&&(l.warning=t[2]),64&n&&(l.tight=t[6]),291&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Fn(t,e,n){let{id:l=""}=e,{warning:s=""}=e,{label:o=""}=e,{description:r=""}=e,{placeholder:i=""}=e,{tight:c=!1}=e,{value:a=""}=e;return t.$$set=t=>{"id"in t&&n(1,l=t.id),"warning"in t&&n(2,s=t.warning),"label"in t&&n(3,o=t.label),"description"in t&&n(4,r=t.description),"placeholder"in t&&n(5,i=t.placeholder),"tight"in t&&n(6,c=t.tight),"value"in t&&n(0,a=t.value)},[a,l,s,o,r,i,c,function(){a=this.value,n(0,a)}]}class Tn extends ht{constructor(t){super(),dt(this,t,Fn,Pn,r,{id:1,warning:2,label:3,description:4,placeholder:5,tight:6,value:0})}}function Dn(e){let n,l,o,r,i,c,a,u,f,d,h,p,g,m,$,x,k,_,N,S,j,A,q,V,I,z,H,B,P,F,T,D,U,X,J,Y,G,K,W,Q,Z,tt,et,nt,lt,st,ot,rt,it;return{c(){n=y("div"),l=y("div"),o=y("div"),r=y("div"),i=y("div"),c=E(),a=y("div"),u=E(),f=y("div"),d=y("div"),h=E(),p=y("div"),g=E(),m=y("div"),$=y("div"),x=E(),k=y("div"),_=E(),N=y("div"),S=E(),j=y("div"),A=y("div"),q=y("div"),V=E(),I=y("div"),z=y("input"),H=E(),B=y("div"),P=y("div"),F=y("input"),T=E(),D=y("p"),D.textContent="R",U=E(),X=y("div"),J=y("input"),Y=E(),G=y("p"),G.textContent="G",K=E(),W=y("div"),Q=y("input"),Z=E(),tt=y("p"),tt.textContent="B",et=E(),nt=y("div"),lt=y("input"),st=E(),ot=y("p"),ot.textContent="A",M(i,"id","colorsquare-picker"),M(i,"class","svelte-1xvatxw"),M(a,"id","colorsquare-event"),M(a,"class","svelte-1xvatxw"),M(r,"class","value-gradient svelte-1xvatxw"),M(o,"class","saturation-gradient svelte-1xvatxw"),M(l,"class","colorsquare size svelte-1xvatxw"),O(l,"background-color",`rgba(${e[5]},${e[6]},${e[7]},1)`),M(d,"id","hue-picker"),M(d,"class","svelte-1xvatxw"),M(p,"id","hue-event"),M(p,"class","svelte-1xvatxw"),M(f,"class","hue-selector svelte-1xvatxw"),M($,"class","alpha-value svelte-1xvatxw"),M(k,"id","alpha-picker"),M(k,"class","svelte-1xvatxw"),M(N,"id","alpha-event"),M(N,"class","svelte-1xvatxw"),M(m,"class","alpha-selector svelte-1xvatxw"),M(q,"class","color-picked svelte-1xvatxw"),O(q,"background-color","rgba("+e[2]+","+e[3]+","+e[4]+","+e[1]+")"),M(A,"class","color-picked-bg svelte-1xvatxw"),M(z,"class","hex svelte-1xvatxw"),M(z,"type","text"),M(I,"class","hex-text-block svelte-1xvatxw"),M(F,"class","rgb svelte-1xvatxw"),M(F,"type","number"),M(F,"min","0"),M(F,"max","255"),M(D,"class","text-label svelte-1xvatxw"),M(P,"class","rgb-text-block svelte-1xvatxw"),M(J,"class","rgb svelte-1xvatxw"),M(J,"type","number"),M(J,"min","0"),M(J,"max","255"),M(G,"class","text-label svelte-1xvatxw"),M(X,"class","rgb-text-block svelte-1xvatxw"),M(Q,"class","rgb svelte-1xvatxw"),M(Q,"type","number"),M(Q,"min","0"),M(Q,"max","255"),M(tt,"class","text-label svelte-1xvatxw"),M(W,"class","rgb-text-block svelte-1xvatxw"),M(lt,"class","rgb svelte-1xvatxw"),M(lt,"type","number"),M(lt,"min","0"),M(lt,"max","255"),M(ot,"class","text-label svelte-1xvatxw"),M(nt,"class","rgb-text-block svelte-1xvatxw"),M(B,"class","rgb-text-div svelte-1xvatxw"),M(j,"class","color-info-box svelte-1xvatxw"),M(n,"class","main-container svelte-1xvatxw")},m(t,s){b(t,n,s),v(n,l),v(l,o),v(o,r),v(r,i),v(r,c),v(r,a),v(n,u),v(n,f),v(f,d),v(f,h),v(f,p),v(n,g),v(n,m),v(m,$),v(m,x),v(m,k),v(m,_),v(m,N),v(n,S),v(n,j),v(j,A),v(A,q),v(j,V),v(j,I),v(I,z),R(z,e[0]),v(j,H),v(j,B),v(B,P),v(P,F),R(F,e[2]),v(P,T),v(P,D),v(B,U),v(B,X),v(X,J),R(J,e[3]),v(X,Y),v(X,G),v(B,K),v(B,W),v(W,Q),R(Q,e[4]),v(W,Z),v(W,tt),v(B,et),v(B,nt),v(nt,lt),R(lt,e[1]),v(nt,st),v(nt,ot),rt||(it=[C(a,"mousedown",e[9]),C(a,"mousemove",e[10]),C(p,"mousedown",e[11]),C(p,"mousemove",e[12]),C(N,"mousedown",e[13]),C(N,"mousemove",e[14]),C(z,"input",e[18]),C(z,"change",e[19]),C(F,"input",e[20]),C(F,"change",e[21]),C(J,"input",e[22]),C(J,"change",e[23]),C(Q,"input",e[24]),C(Q,"change",e[25]),C(lt,"input",e[26]),C(lt,"change",e[27])],rt=!0)},p(t,e){224&e[0]&&O(l,"background-color",`rgba(${t[5]},${t[6]},${t[7]},1)`),30&e[0]&&O(q,"background-color","rgba("+t[2]+","+t[3]+","+t[4]+","+t[1]+")"),1&e[0]&&z.value!==t[0]&&R(z,t[0]),4&e[0]&&L(F.value)!==t[2]&&R(F,t[2]),8&e[0]&&L(J.value)!==t[3]&&R(J,t[3]),16&e[0]&&L(Q.value)!==t[4]&&R(Q,t[4]),2&e[0]&&L(lt.value)!==t[1]&&R(lt,t[1])},i:t,o:t,d(t){t&&w(n),rt=!1,s(it)}}}function Un(t,e,n){let l,s,o,{color:r=[0,0,0,1]}=e,{hexValue:i="#FF0000"}=e;z((()=>{document.addEventListener("mouseup",f),b()}));let c=!1,a=!1,u=!1;const f=()=>{c=!1,a=!1,u=!1};let d=1,h=1,p=1,g=1,m=255,$=0,v=0;const b=()=>{let t=i.replace("#","");if(6!==t.length&&!t.match(/([^A-F0-9])/gi)){let e="";3===t.length?t.split("").forEach((t=>{e+=t+t})):e=t,n(2,m=parseInt(e.substring(0,2),16)),n(3,$=parseInt(e.substring(2,4),16)),n(4,v=parseInt(e.substring(4,6),16));const l=N(m,$,v);n(17,d=l.h),h=l.s,p=l.v,y(),w(),x()}},w=()=>{const t=document.querySelector("#colorsquare-picker"),e=100*h,n=100*(1-p);t.style.top=n+"%",t.style.left=e+"%"},x=()=>{const t=document.querySelector("#hue-picker"),e=100*d;t.style.left=e+"%"},y=()=>{k()},k=()=>{let t=_(d,h,p);n(2,m=t[0]),n(3,$=t[1]),n(4,v=t[2]),n(0,i=E()),n(16,r=[m,$,v,g])},_=(t,e,n)=>{let l,s,o;const r=Math.floor(6*t),i=6*t-r,c=n*(1-e),a=n*(1-i*e),u=n*(1-(1-i)*e);switch(r%6){case 0:l=n,s=u,o=c;break;case 1:l=a,s=n,o=c;break;case 2:l=c,s=n,o=u;break;case 3:l=c,s=a,o=n;break;case 4:l=u,s=c,o=n;break;case 5:l=n,s=c,o=a}return[Math.round(255*l),Math.round(255*s),Math.round(255*o)]},E=()=>{let t=m.toString(16),e=$.toString(16),n=v.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),("#"+t+e+n).toUpperCase()},N=(t,e,n)=>{let l,s,o,r,i,c,a,u,f,d;l=t/255,s=e/255,o=n/255,r=Math.max(l,s,o),i=Math.min(l,s,o),c=r-i,d=r,f=0==d?0:c/r;for(let t=0;t<3;t++)if([l,s,o][t]===r){a=t;break}if(0==c)return u=0,{h:u,s:f,v:d};switch(a){case 0:u=(s-o)/c%6*60/360;break;case 1:u=60*((o-l)/c+2)/360;break;case 2:u=60*((l-s)/c+4)/360}return u<0&&(u+=6),{h:u,s:f,v:d}};return t.$$set=t=>{"color"in t&&n(16,r=t.color),"hexValue"in t&&n(0,i=t.hexValue)},t.$$.update=()=>{131072&t.$$.dirty[0]&&n(5,l=_(d,1,1)[0]),131072&t.$$.dirty[0]&&n(6,s=_(d,1,1)[1]),131072&t.$$.dirty[0]&&n(7,o=_(d,1,1)[2])},[i,g,m,$,v,l,s,o,b,()=>{c=!0},t=>{c&&(h=t.layerX/240,p=1-t.layerY/160,w(),k())},()=>{a=!0},t=>{if(a){const e=document.querySelector("#hue-picker"),l=t.layerX/220;e.style.left=(100*l).toFixed(2)+"%",n(17,d=l),y()}},()=>{u=!0},t=>{if(u){const e=document.querySelector("#alpha-picker"),l=t.layerX/220;e.style.left=(100*l).toFixed(2)+"%",n(1,g=l),k()}},k,r,d,function(){i=this.value,n(0,i)},()=>b(),function(){m=L(this.value),n(2,m)},()=>k(),function(){$=L(this.value),n(3,$)},()=>k(),function(){v=L(this.value),n(4,v)},()=>k(),function(){g=L(this.value),n(1,g)},()=>k()]}class Xn extends ht{constructor(t){super(),dt(this,t,Un,Dn,r,{color:16,hexValue:0},[-1,-1])}}function Jn(t,e,n){const l=t.slice();return l[78]=e[n],l[80]=n,l}function Yn(t,e,n){const l=t.slice();return l[81]=e[n],l}function Gn(t,e,n){const l=t.slice();return l[81]=e[n],l}function Kn(t,e,n){const l=t.slice();return l[86]=e[n],l[88]=n,l}function Wn(t,e,n){const l=t.slice();return l[89]=e[n],l[91]=n,l}function Qn(t,e,n){const l=t.slice();return l[92]=e[n],l[91]=n,l}function Zn(e){let n,l;return n=new kn({props:{text:"Loading data..."}}),{c(){at(n.$$.fragment)},m(t,e){ut(n,t,e),l=!0},p:t,i(t){l||(st(n.$$.fragment,t),l=!0)},o(t){ot(n.$$.fragment,t),l=!1},d(t){ft(n,t)}}}function tl(t){let e,n,l,s,o,r,i,c,a,u,f,d,h,p,g,m,$,_,C,S,L,j,R,A,q,V,I,z,H,B,P,T,D,U,X,J,Y,K,W,Q,Z,tt,et=t[1],rt=[];for(let e=0;e<et.length;e+=1)rt[e]=el(Qn(t,et,e));const it=t=>ot(rt[t],1,1,(()=>{rt[t]=null}));let dt=t[4]&&nl(t),ht=t[19],pt=[];for(let e=0;e<ht.length;e+=1)pt[e]=ll(Wn(t,ht,e));let gt=null!=t[4]&&sl(t),mt=null!=t[6]&&ol(t);function $t(e){t[52](e)}let vt={id:"distanceToggle",labelLeft:"ML Cluster",labelRight:"Custom Cluster"};void 0!==t[17]&&(vt.checked=t[17]),m=new Hn({props:vt}),F.push((()=>ct(m,"checked",$t)));let bt=t[11]&&rl(t),wt=t[1][t[2]].positions,xt=[];for(let e=0;e<wt.length;e+=1)xt[e]=il(Kn(t,wt,e));let yt=null!=t[10]&&cl(t),kt=t[21].length>0&&al(t),_t=t[21].length>0&&fl(t),Et=t[21].length>0&&hl(t),Nt=t[21].length>0&&ml(t),Ct=t[6]&&$l(t),Mt=t[7],St=[];for(let e=0;e<Mt.length;e+=1)St[e]=vl(Jn(t,Mt,e));const Lt=t=>ot(St[t],1,1,(()=>{St[t]=null}));let jt=t[0]&&bl(t);return{c(){e=y("div");for(let t=0;t<rt.length;t+=1)rt[t].c();n=E(),l=y("div"),s=y("div"),o=y("div"),r=y("div"),i=y("h2"),i.textContent="Clusters",c=E(),dt&&dt.c(),a=E(),u=y("ul");for(let t=0;t<pt.length;t+=1)pt[t].c();f=E(),gt&&gt.c(),d=E(),mt&&mt.c(),h=E(),p=y("div"),g=y("div"),at(m.$$.fragment),_=E(),bt&&bt.c(),C=E(),S=k("svg"),L=k("defs"),j=k("filter"),R=k("feFlood"),A=k("feMerge"),q=k("feMergeNode"),V=k("feMergeNode");for(let t=0;t<xt.length;t+=1)xt[t].c();I=N(),yt&&yt.c(),z=N(),kt&&kt.c(),H=N(),_t&&_t.c(),B=E(),P=y("div"),Et&&Et.c(),T=E(),Nt&&Nt.c(),D=E(),U=y("div"),X=y("div"),J=y("h2"),J.textContent="Custom Clusters",Y=E(),Ct&&Ct.c(),K=E(),W=y("ul");for(let t=0;t<St.length;t+=1)St[t].c();Q=E(),jt&&jt.c(),Z=N(),M(e,"id","taxonomyViews"),M(e,"class","svelte-1loc8m9"),M(i,"class","svelte-1loc8m9"),M(r,"class","title-group svelte-1loc8m9"),M(u,"class","svelte-1loc8m9"),M(o,"class","svelte-1loc8m9"),M(s,"id","clusterView"),M(s,"class","svelte-1loc8m9"),O(g,"height","32px"),M(g,"class","svelte-1loc8m9"),M(R,"flood-color","#f3f7ff"),M(R,"result","bg"),M(q,"in","bg"),M(V,"in","SourceGraphic"),M(j,"x","0"),M(j,"y","0"),M(j,"width","1"),M(j,"height","1"),M(j,"id","solid"),M(S,"width",yl),M(S,"height",kl),M(S,"viewBox","0 0 "+yl+" "+kl),M(S,"class","svelte-1loc8m9"),M(p,"id","dataView"),M(p,"class","svelte-1loc8m9"),M(J,"class","svelte-1loc8m9"),M(X,"class","title-group svelte-1loc8m9"),M(W,"class","svelte-1loc8m9"),M(U,"id","custom-clusters"),M(U,"class","svelte-1loc8m9"),M(P,"id","neighborView"),M(P,"class","svelte-1loc8m9"),M(l,"id","editor"),M(l,"class","svelte-1loc8m9")},m(t,$){b(t,e,$);for(let t=0;t<rt.length;t+=1)rt[t].m(e,null);b(t,n,$),b(t,l,$),v(l,s),v(s,o),v(o,r),v(r,i),v(r,c),dt&&dt.m(r,null),v(o,a),v(o,u);for(let t=0;t<pt.length;t+=1)pt[t].m(u,null);v(s,f),gt&&gt.m(s,null),v(s,d),mt&&mt.m(s,null),v(l,h),v(l,p),v(p,g),ut(m,g,null),v(g,_),bt&&bt.m(g,null),v(p,C),v(p,S),v(S,L),v(L,j),v(j,R),v(j,A),v(A,q),v(A,V);for(let t=0;t<xt.length;t+=1)xt[t].m(S,null);v(S,I),yt&&yt.m(S,null),v(S,z),kt&&kt.m(S,null),v(S,H),_t&&_t.m(S,null),v(l,B),v(l,P),Et&&Et.m(P,null),v(P,T),Nt&&Nt.m(P,null),v(P,D),v(P,U),v(U,X),v(X,J),v(X,Y),Ct&&Ct.m(X,null),v(U,K),v(U,W);for(let t=0;t<St.length;t+=1)St[t].m(W,null);b(t,Q,$),jt&&jt.m(t,$),b(t,Z,$),tt=!0},p(t,n){if(560070662&n[0]){let l;for(et=t[1],l=0;l<et.length;l+=1){const s=Qn(t,et,l);rt[l]?(rt[l].p(s,n),st(rt[l],1)):(rt[l]=el(s),rt[l].c(),st(rt[l],1),rt[l].m(e,null))}for(nt(),l=et.length;l<rt.length;l+=1)it(l);lt()}if(t[4]?dt?(dt.p(t,n),16&n[0]&&st(dt,1)):(dt=nl(t),dt.c(),st(dt,1),dt.m(r,null)):dt&&(nt(),ot(dt,1,1,(()=>{dt=null})),lt()),570949654&n[0]){let e;for(ht=t[19],e=0;e<ht.length;e+=1){const l=Wn(t,ht,e);pt[e]?pt[e].p(l,n):(pt[e]=ll(l),pt[e].c(),pt[e].m(u,null))}for(;e<pt.length;e+=1)pt[e].d(1);pt.length=ht.length}null!=t[4]?gt?(gt.p(t,n),16&n[0]&&st(gt,1)):(gt=sl(t),gt.c(),st(gt,1),gt.m(s,d)):gt&&(nt(),ot(gt,1,1,(()=>{gt=null})),lt()),null!=t[6]?mt?(mt.p(t,n),64&n[0]&&st(mt,1)):(mt=ol(t),mt.c(),st(mt,1),mt.m(s,null)):mt&&(nt(),ot(mt,1,1,(()=>{mt=null})),lt());const l={};if(!$&&131072&n[0]&&($=!0,l.checked=t[17],G((()=>$=!1))),m.$set(l),t[11]?bt?(bt.p(t,n),2048&n[0]&&st(bt,1)):(bt=rl(t),bt.c(),st(bt,1),bt.m(g,null)):bt&&(nt(),ot(bt,1,1,(()=>{bt=null})),lt()),1484914910&n[0]|3&n[1]){let e;for(wt=t[1][t[2]].positions,e=0;e<wt.length;e+=1){const l=Kn(t,wt,e);xt[e]?xt[e].p(l,n):(xt[e]=il(l),xt[e].c(),xt[e].m(S,I))}for(;e<xt.length;e+=1)xt[e].d(1);xt.length=wt.length}if(null!=t[10]?yt?yt.p(t,n):(yt=cl(t),yt.c(),yt.m(S,z)):yt&&(yt.d(1),yt=null),t[21].length>0?kt?kt.p(t,n):(kt=al(t),kt.c(),kt.m(S,H)):kt&&(kt.d(1),kt=null),t[21].length>0?_t?_t.p(t,n):(_t=fl(t),_t.c(),_t.m(S,null)):_t&&(_t.d(1),_t=null),t[21].length>0?Et?(Et.p(t,n),2097152&n[0]&&st(Et,1)):(Et=hl(t),Et.c(),st(Et,1),Et.m(P,T)):Et&&(nt(),ot(Et,1,1,(()=>{Et=null})),lt()),t[21].length>0?Nt?(Nt.p(t,n),2097152&n[0]&&st(Nt,1)):(Nt=ml(t),Nt.c(),st(Nt,1),Nt.m(P,D)):Nt&&(nt(),ot(Nt,1,1,(()=>{Nt=null})),lt()),t[6]?Ct?(Ct.p(t,n),64&n[0]&&st(Ct,1)):(Ct=$l(t),Ct.c(),st(Ct,1),Ct.m(X,null)):Ct&&(nt(),ot(Ct,1,1,(()=>{Ct=null})),lt()),67109056&n[0]|48&n[1]){let e;for(Mt=t[7],e=0;e<Mt.length;e+=1){const l=Jn(t,Mt,e);St[e]?(St[e].p(l,n),st(St[e],1)):(St[e]=vl(l),St[e].c(),st(St[e],1),St[e].m(W,null))}for(nt(),e=Mt.length;e<St.length;e+=1)Lt(e);lt()}t[0]?jt?(jt.p(t,n),1&n[0]&&st(jt,1)):(jt=bl(t),jt.c(),st(jt,1),jt.m(Z.parentNode,Z)):jt&&(nt(),ot(jt,1,1,(()=>{jt=null})),lt())},i(t){if(!tt){for(let t=0;t<et.length;t+=1)st(rt[t]);st(dt),st(gt),st(mt),st(m.$$.fragment,t),st(bt),st(Et),st(Nt),st(Ct);for(let t=0;t<Mt.length;t+=1)st(St[t]);st(jt),tt=!0}},o(t){rt=rt.filter(Boolean);for(let t=0;t<rt.length;t+=1)ot(rt[t]);ot(dt),ot(gt),ot(mt),ot(m.$$.fragment,t),ot(bt),ot(Et),ot(Nt),ot(Ct),St=St.filter(Boolean);for(let t=0;t<St.length;t+=1)ot(St[t]);ot(jt),tt=!1},d(t){t&&w(e),x(rt,t),t&&w(n),t&&w(l),dt&&dt.d(),x(pt,t),gt&&gt.d(),mt&&mt.d(),ft(m),bt&&bt.d(),x(xt,t),yt&&yt.d(),kt&&kt.d(),_t&&_t.d(),Et&&Et.d(),Nt&&Nt.d(),Ct&&Ct.d(),x(St,t),t&&w(Q),jt&&jt.d(t),t&&w(Z)}}}function el(t){let e,n;return e=new Xe({props:{active:t[2]===t[91],selected:t[21],selectedNeighbors:t[22],positions:t[92].positions,clusters:t[92].clusters,type:t[92].type,key:t[92].key,clusterMode:t[17],color:t[29],setActiveIndex:t[24],index:t[91]}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,n){const l={};4&n[0]&&(l.active=t[2]===t[91]),2097152&n[0]&&(l.selected=t[21]),4194304&n[0]&&(l.selectedNeighbors=t[22]),2&n[0]&&(l.positions=t[92].positions),2&n[0]&&(l.clusters=t[92].clusters),2&n[0]&&(l.type=t[92].type),2&n[0]&&(l.key=t[92].key),131072&n[0]&&(l.clusterMode=t[17]),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){ot(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function nl(e){let n,l;return n=new Qe({props:{label:"Reset selection"}}),n.$on("click",e[41]),{c(){at(n.$$.fragment)},m(t,e){ut(n,t,e),l=!0},p:t,i(t){l||(st(n.$$.fragment,t),l=!0)},o(t){ot(n.$$.fragment,t),l=!1},d(t){ft(n,t)}}}function ll(t){let e,n,l,s,o,r,i,c,a,u,f=t[1][t[2]].clusterLabels[t[89].key]+"",d=t[89].count+"";function h(){return t[42](t[89])}return{c(){e=y("li"),n=y("span"),l=E(),s=_(f),o=_(" "),r=y("span"),i=_(d),c=E(),M(n,"class","cluster-indicator svelte-1loc8m9"),O(n,"background-color",t[29](t[89].key.toString())),M(r,"class","svelte-1loc8m9"),M(e,"id","cluster-item-"+t[91]),M(e,"class","svelte-1loc8m9"),q(e,"active",t[4]===t[89].key)},m(t,f){b(t,e,f),v(e,n),v(e,l),v(e,s),v(e,o),v(e,r),v(r,i),v(e,c),a||(u=C(e,"click",h),a=!0)},p(l,o){t=l,524288&o[0]&&O(n,"background-color",t[29](t[89].key.toString())),524294&o[0]&&f!==(f=t[1][t[2]].clusterLabels[t[89].key]+"")&&j(s,f),524288&o[0]&&d!==(d=t[89].count+"")&&j(i,d),524304&o[0]&&q(e,"active",t[4]===t[89].key)},d(t){t&&w(e),a=!1,u()}}}function sl(t){let e,n,l,s,o,r,i,c,a,u,f,d,h=t[1][t[2]].clusterLabels[t[4]]+"";function p(e){t[43](e)}let g={data:t[20]};return void 0!==t[8]&&(g.selection=t[8]),c=new hn({props:g}),F.push((()=>ct(c,"selection",p))),c.$on("over",t[44]),c.$on("out",t[45]),c.$on("setActivePosition",t[46]),f=new Qe({props:{label:"Assign to cluster"}}),f.$on("click",t[47]),{c(){e=y("div"),n=y("h2"),l=_("Labels in "),s=y("span"),o=_(" "),r=_(h),i=E(),at(c.$$.fragment),u=E(),at(f.$$.fragment),M(s,"class","cluster-indicator large svelte-1loc8m9"),O(s,"background-color",t[29](t[4].toString())),M(n,"class","svelte-1loc8m9"),M(e,"class","svelte-1loc8m9")},m(t,a){b(t,e,a),v(e,n),v(n,l),v(n,s),v(n,o),v(n,r),v(e,i),ut(c,e,null),v(e,u),ut(f,e,null),d=!0},p(t,e){(!d||16&e[0])&&O(s,"background-color",t[29](t[4].toString())),(!d||22&e[0])&&h!==(h=t[1][t[2]].clusterLabels[t[4]]+"")&&j(r,h);const n={};1048576&e[0]&&(n.data=t[20]),!a&&256&e[0]&&(a=!0,n.selection=t[8],G((()=>a=!1))),c.$set(n)},i(t){d||(st(c.$$.fragment,t),st(f.$$.fragment,t),d=!0)},o(t){ot(c.$$.fragment,t),ot(f.$$.fragment,t),d=!1},d(t){t&&w(e),ft(c),ft(f)}}}function ol(t){let e,n,l,s,o,r,i,c,a,u,f,d,h=t[7][t[6]].name+"";function p(e){t[48](e)}let g={data:t[20]};return void 0!==t[8]&&(g.selection=t[8]),c=new hn({props:g}),F.push((()=>ct(c,"selection",p))),c.$on("over",t[49]),c.$on("out",t[50]),f=new Qe({props:{label:"Remove from cluster"}}),f.$on("click",t[51]),{c(){e=y("div"),n=y("h2"),l=_("Labels in "),s=y("span"),o=_(" "),r=_(h),i=E(),at(c.$$.fragment),u=E(),at(f.$$.fragment),M(s,"class","cluster-indicator large svelte-1loc8m9"),O(s,"background-color","rgb("+t[7][t[6]].color.join(",")+")"),M(n,"class","svelte-1loc8m9"),M(e,"class","svelte-1loc8m9")},m(t,a){b(t,e,a),v(e,n),v(n,l),v(n,s),v(n,o),v(n,r),v(e,i),ut(c,e,null),v(e,u),ut(f,e,null),d=!0},p(t,e){(!d||192&e[0])&&O(s,"background-color","rgb("+t[7][t[6]].color.join(",")+")"),(!d||192&e[0])&&h!==(h=t[7][t[6]].name+"")&&j(r,h);const n={};1048576&e[0]&&(n.data=t[20]),!a&&256&e[0]&&(a=!0,n.selection=t[8],G((()=>a=!1))),c.$set(n)},i(t){d||(st(c.$$.fragment,t),st(f.$$.fragment,t),d=!0)},o(t){ot(c.$$.fragment,t),ot(f.$$.fragment,t),d=!1},d(t){t&&w(e),ft(c),ft(f)}}}function rl(e){let n,l;return n=new Qe({props:{label:"Reset selection"}}),n.$on("click",e[53]),{c(){at(n.$$.fragment)},m(t,e){ut(n,t,e),l=!0},p:t,i(t){l||(st(n.$$.fragment,t),l=!0)},o(t){ot(n.$$.fragment,t),l=!1},d(t){ft(n,t)}}}function il(t){let e,n,l,o,r,i;function c(){return t[54](t[88])}function a(){return t[56](t[88])}return{c(){e=k("circle"),M(e,"cx",n=t[30](t[86])),M(e,"cy",l=t[31](t[86])),M(e,"r","3"),M(e,"fill",o=t[32](t[88],t[2],t[3],t[17],t[7],t[23])),M(e,"class","svelte-1loc8m9"),q(e,"inactive",null!=t[4]&&t[1][t[2]].clusters[t[88]][t[3]]!==t[4]||null!==t[6]&&t[6]!==t[23][t[88]]),q(e,"active",null!=t[4]&&t[1][t[2]].clusters[t[88]][t[3]]===t[4])},m(n,l){b(n,e,l),r||(i=[C(e,"mouseover",c),C(e,"mouseout",t[55]),C(e,"click",a)],r=!0)},p(s,r){t=s,6&r[0]&&n!==(n=t[30](t[86]))&&M(e,"cx",n),6&r[0]&&l!==(l=t[31](t[86]))&&M(e,"cy",l),8519820&r[0]&&o!==(o=t[32](t[88],t[2],t[3],t[17],t[7],t[23]))&&M(e,"fill",o),8388702&r[0]&&q(e,"inactive",null!=t[4]&&t[1][t[2]].clusters[t[88]][t[3]]!==t[4]||null!==t[6]&&t[6]!==t[23][t[88]]),30&r[0]&&q(e,"active",null!=t[4]&&t[1][t[2]].clusters[t[88]][t[3]]===t[4])},d(t){t&&w(e),r=!1,s(i)}}}function cl(t){let e,n,l,s,o,r,i=t[5][t[10]]+"";return{c(){e=k("circle"),s=k("text"),o=_(i),M(e,"class","highlighter svelte-1loc8m9"),M(e,"cx",n=t[30](t[1][t[2]].positions[t[10]])),M(e,"cy",l=t[31](t[1][t[2]].positions[t[10]])),M(e,"r","6"),M(s,"filter","url(#solid)"),M(s,"transform",r="translate("+(8+t[30](t[1][t[2]].positions[t[10]]))+","+(5+t[31](t[1][t[2]].positions[t[10]]))+")"),M(s,"text-anchor","start"),M(s,"class","svelte-1loc8m9")},m(t,n){b(t,e,n),b(t,s,n),v(s,o)},p(t,c){1030&c[0]&&n!==(n=t[30](t[1][t[2]].positions[t[10]]))&&M(e,"cx",n),1030&c[0]&&l!==(l=t[31](t[1][t[2]].positions[t[10]]))&&M(e,"cy",l),1056&c[0]&&i!==(i=t[5][t[10]]+"")&&j(o,i),1030&c[0]&&r!==(r="translate("+(8+t[30](t[1][t[2]].positions[t[10]]))+","+(5+t[31](t[1][t[2]].positions[t[10]]))+")")&&M(s,"transform",r)},d(t){t&&w(e),t&&w(s)}}}function al(t){let e,n=t[21],l=[];for(let e=0;e<n.length;e+=1)l[e]=ul(Gn(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=N()},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);b(t,e,n)},p(t,s){if(1075838982&s[0]|1&s[1]){let o;for(n=t[21],o=0;o<n.length;o+=1){const r=Gn(t,n,o);l[o]?l[o].p(r,s):(l[o]=ul(r),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){x(l,t),t&&w(e)}}}function ul(t){let e,n,l;return{c(){e=k("circle"),M(e,"class","highlighter svelte-1loc8m9"),M(e,"cx",n=t[30](t[1][t[2]].positions[t[81]])),M(e,"cy",l=t[31](t[1][t[2]].positions[t[81]])),M(e,"r","6")},m(t,n){b(t,e,n)},p(t,s){2097158&s[0]&&n!==(n=t[30](t[1][t[2]].positions[t[81]]))&&M(e,"cx",n),2097158&s[0]&&l!==(l=t[31](t[1][t[2]].positions[t[81]]))&&M(e,"cy",l)},d(t){t&&w(e)}}}function fl(t){let e,n=t[22],l=[];for(let e=0;e<n.length;e+=1)l[e]=dl(Yn(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=N()},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);b(t,e,n)},p(t,s){if(1077936134&s[0]|1&s[1]){let o;for(n=t[22],o=0;o<n.length;o+=1){const r=Yn(t,n,o);l[o]?l[o].p(r,s):(l[o]=dl(r),l[o].c(),l[o].m(e.parentNode,e))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(t){x(l,t),t&&w(e)}}}function dl(t){let e,n,l;return{c(){e=k("circle"),M(e,"class","small-highlighter svelte-1loc8m9"),M(e,"cx",n=t[30](t[1][t[2]].positions[t[81]])),M(e,"cy",l=t[31](t[1][t[2]].positions[t[81]])),M(e,"r","4")},m(t,n){b(t,e,n)},p(t,s){4194310&s[0]&&n!==(n=t[30](t[1][t[2]].positions[t[81]]))&&M(e,"cx",n),4194310&s[0]&&l!==(l=t[31](t[1][t[2]].positions[t[81]]))&&M(e,"cy",l)},d(t){t&&w(e)}}}function hl(t){let e,n,l,s,o,r,i,c,a,u,f,d,h,p,g,m,$,x,k,N,C,S,L,R,O,A,q,V,I,z=t[21][0]+"",H=t[5][t[21][0]]+"",B=t[1][t[2]].clusters[t[21][0]][t[3]]>=0&&pl(t),P=t[21][0]in t[23]&&gl(t);function T(e){t[58](e)}let D={label:"Choose existing cluster",values:[{label:"Create new cluster",value:null}].concat(t[7].map(_l))};function U(e){t[59](e)}void 0!==t[13]&&(D.value=t[13]),S=new qn({props:D}),F.push((()=>ct(S,"value",T)));let X={label:"New cluster name",placeholder:"Name"};return void 0!==t[12]&&(X.value=t[12]),O=new Tn({props:X}),F.push((()=>ct(O,"value",U))),V=new Qe({props:{label:"Save",bold:!0}}),V.$on("click",t[33]),{c(){e=y("div"),n=y("h2"),n.textContent="Selection",l=E(),s=y("table"),o=y("tr"),r=y("th"),r.textContent="ID",i=E(),c=y("td"),a=_(z),u=E(),f=y("tr"),d=y("th"),d.textContent="Label",h=E(),p=y("td"),g=_(H),m=E(),B&&B.c(),$=E(),P&&P.c(),x=E(),k=y("hr"),N=E(),C=y("div"),at(S.$$.fragment),R=E(),at(O.$$.fragment),q=E(),at(V.$$.fragment),M(n,"class","svelte-1loc8m9"),M(C,"class","small-form"),M(e,"class","svelte-1loc8m9")},m(t,w){b(t,e,w),v(e,n),v(e,l),v(e,s),v(s,o),v(o,r),v(o,i),v(o,c),v(c,a),v(s,u),v(s,f),v(f,d),v(f,h),v(f,p),v(p,g),v(s,m),B&&B.m(s,null),v(s,$),P&&P.m(s,null),v(e,x),v(e,k),v(e,N),v(e,C),ut(S,C,null),v(C,R),ut(O,C,null),v(C,q),ut(V,C,null),I=!0},p(t,e){(!I||2097152&e[0])&&z!==(z=t[21][0]+"")&&j(a,z),(!I||2097184&e[0])&&H!==(H=t[5][t[21][0]]+"")&&j(g,H),t[1][t[2]].clusters[t[21][0]][t[3]]>=0?B?B.p(t,e):(B=pl(t),B.c(),B.m(s,$)):B&&(B.d(1),B=null),t[21][0]in t[23]?P?P.p(t,e):(P=gl(t),P.c(),P.m(s,null)):P&&(P.d(1),P=null);const n={};128&e[0]&&(n.values=[{label:"Create new cluster",value:null}].concat(t[7].map(_l))),!L&&8192&e[0]&&(L=!0,n.value=t[13],G((()=>L=!1))),S.$set(n);const l={};!A&&4096&e[0]&&(A=!0,l.value=t[12],G((()=>A=!1))),O.$set(l)},i(t){I||(st(S.$$.fragment,t),st(O.$$.fragment,t),st(V.$$.fragment,t),I=!0)},o(t){ot(S.$$.fragment,t),ot(O.$$.fragment,t),ot(V.$$.fragment,t),I=!1},d(t){t&&w(e),B&&B.d(),P&&P.d(),ft(S),ft(O),ft(V)}}}function pl(t){let e,n,l,s,o,r,i,c=t[1][t[2]].clusterLabels[t[1][t[2]].clusters[t[21][0]][t[3]]]+"";return{c(){e=y("tr"),n=y("th"),n.textContent="Cluster",l=E(),s=y("td"),o=_(c)},m(c,a){b(c,e,a),v(e,n),v(e,l),v(e,s),v(s,o),r||(i=C(s,"click",t[57]),r=!0)},p(t,e){2097166&e[0]&&c!==(c=t[1][t[2]].clusterLabels[t[1][t[2]].clusters[t[21][0]][t[3]]]+"")&&j(o,c)},d(t){t&&w(e),r=!1,i()}}}function gl(t){let e,n,l,s,o,r=t[7][t[23][t[21][0]]].name+"";return{c(){e=y("tr"),n=y("th"),n.textContent="Custom Cluster",l=E(),s=y("td"),o=_(r)},m(t,r){b(t,e,r),v(e,n),v(e,l),v(e,s),v(s,o)},p(t,e){10485888&e[0]&&r!==(r=t[7][t[23][t[21][0]]].name+"")&&j(o,r)},d(t){t&&w(e)}}}function ml(t){let e,n,l,s,o,r,i,c;function a(e){t[61](e)}let u={data:t[22].map(t[60])};return void 0!==t[9]&&(u.selection=t[9]),s=new hn({props:u}),F.push((()=>ct(s,"selection",a))),s.$on("over",t[62]),s.$on("out",t[63]),i=new Qe({props:{label:"Assign to cluster"}}),i.$on("click",t[64]),{c(){e=y("div"),n=y("h2"),n.textContent="Neighbors",l=E(),at(s.$$.fragment),r=E(),at(i.$$.fragment),M(n,"class","svelte-1loc8m9"),M(e,"class","svelte-1loc8m9")},m(t,o){b(t,e,o),v(e,n),v(e,l),ut(s,e,null),v(e,r),ut(i,e,null),c=!0},p(t,e){const n={};12714156&e[0]&&(n.data=t[22].map(t[60])),!o&&512&e[0]&&(o=!0,n.selection=t[9],G((()=>o=!1))),s.$set(n)},i(t){c||(st(s.$$.fragment,t),st(i.$$.fragment,t),c=!0)},o(t){ot(s.$$.fragment,t),ot(i.$$.fragment,t),c=!1},d(t){t&&w(e),ft(s),ft(i)}}}function $l(e){let n,l;return n=new Qe({props:{label:"Reset selection"}}),n.$on("click",e[65]),{c(){at(n.$$.fragment)},m(t,e){ut(n,t,e),l=!0},p:t,i(t){l||(st(n.$$.fragment,t),l=!0)},o(t){ot(n.$$.fragment,t),l=!1},d(t){ft(n,t)}}}function vl(t){let e,n,l,s,o,r,i,c,a,u,f,d,h,p,g,m=t[78].name+"",$=t[78].ids.length+"";function x(){return t[66](t[80])}return a=new sn({}),a.$on("click",(function(){return t[67](t[80])})),f=new cn({}),f.$on("click",(function(){return t[68](t[80])})),{c(){e=y("li"),n=y("span"),l=y("span"),s=_(m),o=y("span"),r=_($),i=E(),c=y("span"),at(a.$$.fragment),u=E(),at(f.$$.fragment),d=E(),M(l,"class","cluster-indicator svelte-1loc8m9"),O(l,"background-color","rgba("+t[78].color.join(",")+")"),M(o,"class","svelte-1loc8m9"),M(n,"class","svelte-1loc8m9"),M(c,"class","edit-links svelte-1loc8m9"),M(e,"class","svelte-1loc8m9"),q(e,"active",t[6]===t[80])},m(t,m){b(t,e,m),v(e,n),v(n,l),v(n,s),v(n,o),v(o,r),v(e,i),v(e,c),ut(a,c,null),v(c,u),ut(f,c,null),v(e,d),h=!0,p||(g=C(n,"click",x),p=!0)},p(n,o){t=n,(!h||128&o[0])&&O(l,"background-color","rgba("+t[78].color.join(",")+")"),(!h||128&o[0])&&m!==(m=t[78].name+"")&&j(s,m),(!h||128&o[0])&&$!==($=t[78].ids.length+"")&&j(r,$),64&o[0]&&q(e,"active",t[6]===t[80])},i(t){h||(st(a.$$.fragment,t),st(f.$$.fragment,t),h=!0)},o(t){ot(a.$$.fragment,t),ot(f.$$.fragment,t),h=!1},d(t){t&&w(e),ft(a),ft(f),p=!1,g()}}}function bl(t){let e,n,l,s,o,r,i,c,a,u,f,d,h=!t[15]&&wl(t);function p(e){t[70](e)}let g={label:"New cluster name",placeholder:"Name"};function m(e){t[71](e)}void 0!==t[12]&&(g.value=t[12]),l=new Tn({props:g}),F.push((()=>ct(l,"value",p)));let $={};return void 0!==t[16]&&($.color=t[16]),r=new Xn({props:$}),F.push((()=>ct(r,"color",m))),a=new Qe({props:{label:"Cancel",invert:!0}}),a.$on("click",t[72]),f=new Qe({props:{label:"Save",bold:!0}}),f.$on("click",t[34]),{c(){e=y("div"),h&&h.c(),n=E(),at(l.$$.fragment),o=E(),at(r.$$.fragment),c=E(),at(a.$$.fragment),u=E(),at(f.$$.fragment),M(e,"id","assignment"),M(e,"class","view svelte-1loc8m9")},m(t,s){b(t,e,s),h&&h.m(e,null),v(e,n),ut(l,e,null),v(e,o),ut(r,e,null),v(e,c),ut(a,e,null),v(e,u),ut(f,e,null),d=!0},p(t,o){t[15]?h&&(nt(),ot(h,1,1,(()=>{h=null})),lt()):h?(h.p(t,o),32768&o[0]&&st(h,1)):(h=wl(t),h.c(),st(h,1),h.m(e,n));const c={};!s&&4096&o[0]&&(s=!0,c.value=t[12],G((()=>s=!1))),l.$set(c);const a={};!i&&65536&o[0]&&(i=!0,a.color=t[16],G((()=>i=!1))),r.$set(a)},i(t){d||(st(h),st(l.$$.fragment,t),st(r.$$.fragment,t),st(a.$$.fragment,t),st(f.$$.fragment,t),d=!0)},o(t){ot(h),ot(l.$$.fragment,t),ot(r.$$.fragment,t),ot(a.$$.fragment,t),ot(f.$$.fragment,t),d=!1},d(t){t&&w(e),h&&h.d(),ft(l),ft(r),ft(a),ft(f)}}}function wl(t){let e,n,l;function s(e){t[69](e)}let o={label:"Choose existing cluster",values:[{label:"Create new cluster",value:null}].concat(t[7].map(El))};return void 0!==t[13]&&(o.value=t[13]),e=new qn({props:o}),F.push((()=>ct(e,"value",s))),{c(){at(e.$$.fragment)},m(t,n){ut(e,t,n),l=!0},p(t,l){const s={};128&l[0]&&(s.values=[{label:"Create new cluster",value:null}].concat(t[7].map(El))),!n&&8192&l[0]&&(n=!0,s.value=t[13],G((()=>n=!1))),e.$set(s)},i(t){l||(st(e.$$.fragment,t),l=!0)},o(t){ot(e.$$.fragment,t),l=!1},d(t){ft(e,t)}}}function xl(t){let e,n,l,s;const o=[tl,Zn],r=[];function i(t,e){return t[18]?0:1}return e=i(t),n=r[e]=o[e](t),{c(){n.c(),l=N()},m(t,n){r[e].m(t,n),b(t,l,n),s=!0},p(t,s){let c=e;e=i(t),e===c?r[e].p(t,s):(nt(),ot(r[c],1,1,(()=>{r[c]=null})),lt(),n=r[e],n?n.p(t,s):(n=r[e]=o[e](t),n.c()),st(n,1),n.m(l.parentNode,l))},i(t){s||(st(n),s=!0)},o(t){ot(n),s=!1},d(t){r[e].d(t),t&&w(l)}}}const yl=800,kl=800,_l=(t,e)=>({label:t.name,value:e}),El=(t,e)=>({label:t.name,value:e});function Nl(t,e,n){let l,s,o,r,i,a,u,f,d,h,g,m,$,v,b,w,x;c(t,At,(t=>n(40,r=t))),c(t,qt,(t=>n(1,i=t))),c(t,zt,(t=>n(2,a=t))),c(t,Vt,(t=>n(3,u=t))),c(t,Ht,(t=>n(4,f=t))),c(t,Rt,(t=>n(5,d=t))),c(t,Bt,(t=>n(6,h=t))),c(t,Jt,(t=>n(7,g=t))),c(t,Ft,(t=>n(74,m=t))),c(t,Dt,(t=>n(75,$=t))),c(t,Pt,(t=>n(76,v=t))),c(t,It,(t=>n(21,b=t))),c(t,Tt,(t=>n(22,w=t))),c(t,Yt,(t=>n(23,x=t))),z((()=>{r||Xt()}));let y=[],k=[];const _=t=>{n(8,y=[]),t===f?t=null:Bt.set(null),Ht.set(t)},E=t=>{n(8,y=[]),t===h?t=null:Ht.set(null),Bt.set(t)};let N=null;const C=t=>{n(10,N=t)};let M=null;const S=t=>{console.log(t),t?(n(11,M=t),It.set([t]),Tt.set(m[$][v][t])):(n(11,M=null),It.set([]),Tt.set([]))},L=bn(wn);let j=[0,0],R=[0,0];let O=!1,A="",q="",V=null,I=!1,H=null,B=[0,0,0,1];const P=(t,e,n,l,s,o)=>l?t in o?`rgba(${s[o[t]].color.join(",")})`:"rgba(150,150,150,1)":i[e].clusters[t][n]>=0?L(i[e].clusters[t][n].toString()):"rgba(150,150,150,1)";let F=!1;const T=t=>{const e=g;e.splice(t,1),p(Jt,g=e,g)},D=t=>{n(15,I=!0),n(12,A=g[t].name),n(16,B=g[t].color),n(13,q=""),H=t,n(0,O=!0)},U=(t,e)=>{const n=g[t].ids;e.forEach((t=>{const e=n.indexOf(t);e>=0&&n.splice(e,1)})),p(Jt,g[t].ids=n,g)};return t.$$.update=()=>{512&t.$$.dirty[1]&&n(18,l=r),14&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(19,s=r?i[a].clusterList[u].sort(((t,e)=>e.count-t.count)):[]),254&t.$$.dirty[0]|512&t.$$.dirty[1]&&n(20,o=r&&null!=f?d.map(((t,e)=>({label:t,value:e}))).filter(((t,e)=>i[a].clusters[e][u]===f)):r&&null!=h?g[h].ids.map((t=>({label:d[t],value:t}))):[]),6&t.$$.dirty[0]|896&t.$$.dirty[1]&&r&&(n(38,j=[i[a].positions[0][0],i[a].positions[0][1]]),n(39,R=[i[a].positions[0][0],i[a].positions[0][1]]),i[a].positions.forEach((t=>{t[0]<j[0]&&n(38,j[0]=t[0],j),t[1]<j[1]&&n(38,j[1]=t[1],j),t[0]>R[0]&&n(39,R[0]=t[0],R),t[1]>R[1]&&n(39,R[1]=t[1],R)}))),1&t.$$.dirty[0]&&(O||(n(12,A=""),n(13,q=null)))},[O,i,a,u,f,d,h,g,y,k,N,M,A,q,V,I,B,F,l,s,o,b,w,x,t=>{Ht.set(null),zt.set(t)},_,E,C,S,L,t=>20+(t[0]-j[0])/(R[0]-j[0])*(yl-40),t=>20+(t[1]-j[1])/(R[1]-j[1])*(kl-40),P,()=>{if(null!==q&&""!==q){const t=g[q].ids;t.push(M),p(Jt,g[q].ids=t,g)}else{const t={name:A,color:[255,0,0,1],ids:[M]},e=g;e.push(t),p(Jt,g=e,g)}},()=>{if(I){const t=g[H];t.name=A,t.color=B,p(Jt,g[H]=t,g)}else if(V.length>0)if((t=>{const e={};t.forEach((t=>{g.forEach(((n,l)=>{n.ids.includes(t)&&(l in e||(e[l]=n.ids),e[l].splice(e[l].indexOf(t,1)))}))})),Object.keys(e).forEach((t=>{p(Jt,g[t].ids=e[t],g)}))})(V),null!==q&&""!==q){const t=g[q].ids;V.forEach((e=>{t.includes(e)||t.push(e)})),p(Jt,g[q].ids=t,g)}else{const t={name:A,color:B,ids:V},e=g;e.push(t),p(Jt,g=e,g)}n(0,O=!1)},T,D,U,j,R,r,()=>_(null),t=>_(t.key),function(t){y=t,n(8,y)},t=>{C(t.detail.value)},()=>{C(null)},t=>{S(t.detail)},()=>{n(14,V=y),n(15,I=!1),n(0,O=!0)},function(t){y=t,n(8,y)},t=>{C(t.detail.value)},()=>{C(null)},()=>{U(h,y)},function(t){F=t,n(17,F)},()=>S(null),t=>C(t),()=>C(null),t=>S(t),()=>_(i[a].clusters[b[0]][u]),function(t){q=t,n(13,q),n(0,O)},function(t){A=t,n(12,A),n(0,O)},t=>({label:`<span\n                  class="cluster-indicator"\n                  style="background-color:${P(t,a,u,F,g,x)}"\n                ></span>&nbsp;${d[t]}`,value:t}),function(t){k=t,n(9,k)},t=>{C(t.detail.value)},()=>{C(null)},()=>{n(14,V=k),n(15,I=!1),n(0,O=!0)},()=>E(null),t=>{E(t)},t=>D(t),t=>T(t),function(t){q=t,n(13,q),n(0,O)},function(t){A=t,n(12,A),n(0,O)},function(t){B=t,n(16,B)},()=>{n(0,O=!1)}]}const Cl={"/":class extends ht{constructor(t){super(),dt(this,t,Nl,xl,r,{},[-1,-1,-1,-1])}}};function Ml(e){let n,l,s,o;return s=new Et({props:{routes:Cl}}),{c(){n=y("div"),l=y("main"),at(s.$$.fragment)},m(t,e){b(t,n,e),v(n,l),ut(s,l,null),o=!0},p:t,i(t){o||(st(s.$$.fragment,t),o=!0)},o(t){ot(s.$$.fragment,t),o=!1},d(t){t&&w(n),ft(s)}}}return new class extends ht{constructor(t){super(),dt(this,t,null,Ml,r,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
