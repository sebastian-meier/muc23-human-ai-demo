var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function l(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function o(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const l=e.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function i(t,e,n){t.$$.on_destroy.push(c(e,n))}function a(t,e,n,l){if(t){const s=u(t,e,n,l);return t[0](s)}}function u(t,n,l,s){return t[1]&&s?e(l.ctx.slice(),t[1](s(n))):l.ctx}function f(t,e,n,l,s,r,o){const c=function(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let l=0;l<n;l+=1)t[l]=e.dirty[l]|s[l];return t}return e.dirty|s}return e.dirty}(e,l,s,r);if(c){const s=u(e,n,l,o);t.p(s,c)}}function d(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function p(t,e){const n={};e=new Set(e);for(const l in t)e.has(l)||"$"===l[0]||(n[l]=t[l]);return n}function h(t,e,n=e){return t.set(n),e}let g,m=!1;function $(t,e,n,l){for(;t<e;){const s=t+(e-t>>1);n(s)<=l?t=s+1:e=s}return t}function v(t,e){m?(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;const e=t.childNodes,n=new Int32Array(e.length+1),l=new Int32Array(e.length);n[0]=-1;let s=0;for(let t=0;t<e.length;t++){const r=$(1,s+1,(t=>e[n[t]].claim_order),e[t].claim_order)-1;l[t]=n[r]+1;const o=r+1;n[o]=t,s=Math.max(o,s)}const r=[],o=[];let c=e.length-1;for(let t=n[s]+1;0!=t;t=l[t-1]){for(r.push(e[t-1]);c>=t;c--)o.push(e[c]);c--}for(;c>=0;c--)o.push(e[c]);r.reverse(),o.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<o.length;e++){for(;n<r.length&&o[e].claim_order>=r[n].claim_order;)n++;const l=n<r.length?r[n]:null;t.insertBefore(o[e],l)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild),e!==t.actual_end_child?t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling):e.parentNode!==t&&t.appendChild(e)}function b(t,e,n){m&&!n?v(t,e):(e.parentNode!==t||n&&e.nextSibling!==n)&&t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function x(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function _(t){return document.createTextNode(t)}function E(){return _(" ")}function C(){return _("")}function S(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function N(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function A(t,e){for(const n in e)N(t,n,e[n])}function L(t){return""===t?null:+t}function O(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=null==e?"":e}function V(t,e,n,l){t.style.setProperty(e,n,l?"important":"")}function I(t,e){for(let n=0;n<t.options.length;n+=1){const l=t.options[n];if(l.__value===e)return void(l.selected=!0)}}function M(t,e,n){t.classList[n?"add":"remove"](e)}function R(t){g=t}function q(){if(!g)throw new Error("Function called outside component initialization");return g}function z(t){q().$$.on_mount.push(t)}function B(){const t=q();return(e,n)=>{const l=t.$$.callbacks[e];if(l){const s=function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(e,n);l.slice().forEach((e=>{e.call(t,s)}))}}}function T(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t.call(this,e)))}const F=[],P=[],D=[],H=[],X=Promise.resolve();let U=!1;function Y(){U||(U=!0,X.then(Q))}function J(t){D.push(t)}function K(t){H.push(t)}let G=!1;const W=new Set;function Q(){if(!G){G=!0;do{for(let t=0;t<F.length;t+=1){const e=F[t];R(e),Z(e.$$)}for(R(null),F.length=0;P.length;)P.pop()();for(let t=0;t<D.length;t+=1){const e=D[t];W.has(e)||(W.add(e),e())}D.length=0}while(F.length);for(;H.length;)H.pop()();U=!1,G=!1,W.clear()}}function Z(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}const tt=new Set;let et;function nt(){et={r:0,c:[],p:et}}function lt(){et.r||s(et.c),et=et.p}function st(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function rt(t,e,n,l){if(t&&t.o){if(tt.has(t))return;tt.add(t),et.c.push((()=>{tt.delete(t),l&&(n&&t.d(1),l())})),t.o(e)}}function ot(t,e){const n={},l={},s={$$scope:1};let r=t.length;for(;r--;){const o=t[r],c=e[r];if(c){for(const t in o)t in c||(l[t]=1);for(const t in c)s[t]||(n[t]=c[t],s[t]=1);t[r]=c}else for(const t in o)s[t]=1}for(const t in l)t in n||(n[t]=void 0);return n}function ct(t){return"object"==typeof t&&null!==t?t:{}}function it(t,e,n){const l=t.$$.props[e];void 0!==l&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function at(t){t&&t.c()}function ut(t,e,l,o){const{fragment:c,on_mount:i,on_destroy:a,after_update:u}=t.$$;c&&c.m(e,l),o||J((()=>{const e=i.map(n).filter(r);a?a.push(...e):s(e),t.$$.on_mount=[]})),u.forEach(J)}function ft(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(e,n,r,o,c,i,a=[-1]){const u=g;R(e);const f=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:n.context||[]),callbacks:l(),dirty:a,skip_bound:!1};let d=!1;if(f.ctx=r?r(e,n.props||{},((t,n,...l)=>{const s=l.length?l[0]:n;return f.ctx&&c(f.ctx[t],f.ctx[t]=s)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](s),d&&function(t,e){-1===t.$$.dirty[0]&&(F.push(t),Y(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],f.update(),d=!0,s(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){m=!0;const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(y)}else f.fragment&&f.fragment.c();n.intro&&st(e.$$.fragment),ut(e,n.target,n.anchor,n.customElement),m=!1,Q()}R(u)}class pt{$destroy(){ft(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ht=[];function gt(t,e){return{subscribe:mt(t,e).subscribe}}function mt(e,n=t){let l;const s=[];function r(t){if(o(e,t)&&(e=t,l)){const t=!ht.length;for(let t=0;t<s.length;t+=1){const n=s[t];n[1](),ht.push(n,e)}if(t){for(let t=0;t<ht.length;t+=2)ht[t][0](ht[t+1]);ht.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(o,c=t){const i=[o,c];return s.push(i),1===s.length&&(l=n(r)||t),o(e),()=>{const t=s.indexOf(i);-1!==t&&s.splice(t,1),0===s.length&&(l(),l=null)}}}}function $t(e,n,l){const o=!Array.isArray(e),i=o?[e]:e,a=n.length<2;return gt(l,(e=>{let l=!1;const u=[];let f=0,d=t;const p=()=>{if(f)return;d();const l=n(o?u[0]:u,e);a?e(l):d=r(l)?l:t},h=i.map(((t,e)=>c(t,(t=>{u[e]=t,f&=~(1<<e),l&&p()}),(()=>{f|=1<<e}))));return l=!0,p(),function(){s(h),d()}}))}function vt(t){let n,l,s;const r=[t[2]];var o=t[0];function c(t){let n={};for(let t=0;t<r.length;t+=1)n=e(n,r[t]);return{props:n}}return o&&(n=new o(c()),n.$on("routeEvent",t[7])),{c(){n&&at(n.$$.fragment),l=C()},m(t,e){n&&ut(n,t,e),b(t,l,e),s=!0},p(t,e){const s=4&e?ot(r,[ct(t[2])]):{};if(o!==(o=t[0])){if(n){nt();const t=n;rt(t.$$.fragment,1,0,(()=>{ft(t,1)})),lt()}o?(n=new o(c()),n.$on("routeEvent",t[7]),at(n.$$.fragment),st(n.$$.fragment,1),ut(n,l.parentNode,l)):n=null}else o&&n.$set(s)},i(t){s||(n&&st(n.$$.fragment,t),s=!0)},o(t){n&&rt(n.$$.fragment,t),s=!1},d(t){t&&y(l),n&&ft(n,t)}}}function bt(t){let n,l,s;const r=[{params:t[1]},t[2]];var o=t[0];function c(t){let n={};for(let t=0;t<r.length;t+=1)n=e(n,r[t]);return{props:n}}return o&&(n=new o(c()),n.$on("routeEvent",t[6])),{c(){n&&at(n.$$.fragment),l=C()},m(t,e){n&&ut(n,t,e),b(t,l,e),s=!0},p(t,e){const s=6&e?ot(r,[2&e&&{params:t[1]},4&e&&ct(t[2])]):{};if(o!==(o=t[0])){if(n){nt();const t=n;rt(t.$$.fragment,1,0,(()=>{ft(t,1)})),lt()}o?(n=new o(c()),n.$on("routeEvent",t[6]),at(n.$$.fragment),st(n.$$.fragment,1),ut(n,l.parentNode,l)):n=null}else o&&n.$set(s)},i(t){s||(n&&st(n.$$.fragment,t),s=!0)},o(t){n&&rt(n.$$.fragment,t),s=!1},d(t){t&&y(l),n&&ft(n,t)}}}function yt(t){let e,n,l,s;const r=[bt,vt],o=[];function c(t,e){return t[1]?0:1}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),l=C()},m(t,n){o[e].m(t,n),b(t,l,n),s=!0},p(t,[s]){let i=e;e=c(t),e===i?o[e].p(t,s):(nt(),rt(o[i],1,1,(()=>{o[i]=null})),lt(),n=o[e],n?n.p(t,s):(n=o[e]=r[e](t),n.c()),st(n,1),n.m(l.parentNode,l))},i(t){s||(st(n),s=!0)},o(t){rt(n),s=!1},d(t){o[e].d(t),t&&y(l)}}}function xt(){const t=window.location.href.indexOf("#/");let e=t>-1?window.location.href.substr(t+1):"/";const n=e.indexOf("?");let l="";return n>-1&&(l=e.substr(n+1),e=e.substr(0,n)),{location:e,querystring:l}}const wt=gt(null,(function(t){t(xt());const e=()=>{t(xt())};return window.addEventListener("hashchange",e,!1),function(){window.removeEventListener("hashchange",e,!1)}})),kt=$t(wt,(t=>t.location));$t(wt,(t=>t.querystring));const _t=mt(void 0);function Et(t,e){if(e=St(e),!t||!t.tagName||"a"!=t.tagName.toLowerCase())throw Error('Action "link" can only be used with <a> tags');return Ct(t,e),{update(e){e=St(e),Ct(t,e)}}}function Ct(t,e){let n=e.href||t.getAttribute("href");if(n&&"/"==n.charAt(0))n="#"+n;else if(!n||n.length<2||"#/"!=n.slice(0,2))throw Error('Invalid value for "href" attribute: '+n);t.setAttribute("href",n),t.addEventListener("click",(t=>{t.preventDefault(),e.disabled||function(t){history.replaceState({...history.state,__svelte_spa_router_scrollX:window.scrollX,__svelte_spa_router_scrollY:window.scrollY},void 0,void 0),window.location.hash=t}(t.currentTarget.getAttribute("href"))}))}function St(t){return t&&"string"==typeof t?{href:t}:t||{}}function Nt(t,e,n){let{routes:l={}}=e,{prefix:s=""}=e,{restoreScrollState:r=!1}=e;class o{constructor(t,e){if(!e||"function"!=typeof e&&("object"!=typeof e||!0!==e._sveltesparouter))throw Error("Invalid component object");if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument - strings must start with / or *');const{pattern:n,keys:l}=function(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,l,s,r,o=[],c="",i=t.split("/");for(i[0]||i.shift();s=i.shift();)"*"===(n=s[0])?(o.push("wild"),c+="/(.*)"):":"===n?(l=s.indexOf("?",1),r=s.indexOf(".",1),o.push(s.substring(1,~l?l:~r?r:s.length)),c+=~l&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(c+=(~l?"?":"")+"\\"+s.substring(r))):c+="/"+s;return{keys:o,pattern:new RegExp("^"+c+(e?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,"object"==typeof e&&!0===e._sveltesparouter?(this.component=e.component,this.conditions=e.conditions||[],this.userData=e.userData,this.props=e.props||{}):(this.component=()=>Promise.resolve(e),this.conditions=[],this.props={}),this._pattern=n,this._keys=l}match(t){if(s)if("string"==typeof s){if(!t.startsWith(s))return null;t=t.substr(s.length)||"/"}else if(s instanceof RegExp){const e=t.match(s);if(!e||!e[0])return null;t=t.substr(e[0].length)||"/"}const e=this._pattern.exec(t);if(null===e)return null;if(!1===this._keys)return e;const n={};let l=0;for(;l<this._keys.length;){try{n[this._keys[l]]=decodeURIComponent(e[l+1]||"")||null}catch(t){n[this._keys[l]]=null}l++}return n}async checkConditions(t){for(let e=0;e<this.conditions.length;e++)if(!await this.conditions[e](t))return!1;return!0}}const c=[];l instanceof Map?l.forEach(((t,e)=>{c.push(new o(e,t))})):Object.keys(l).forEach((t=>{c.push(new o(t,l[t]))}));let i=null,a=null,u={};const f=B();async function d(t,e){await(Y(),X),f(t,e)}let p=null,h=null;var g;r&&(h=t=>{p=t.state&&t.state.__svelte_spa_router_scrollY?t.state:null},window.addEventListener("popstate",h),g=()=>{p?window.scrollTo(p.__svelte_spa_router_scrollX,p.__svelte_spa_router_scrollY):window.scrollTo(0,0)},q().$$.after_update.push(g));let m=null,$=null;const v=wt.subscribe((async t=>{m=t;let e=0;for(;e<c.length;){const l=c[e].match(t.location);if(!l){e++;continue}const s={route:c[e].path,location:t.location,querystring:t.querystring,userData:c[e].userData,params:l&&"object"==typeof l&&Object.keys(l).length?l:null};if(!await c[e].checkConditions(s))return n(0,i=null),$=null,void d("conditionsFailed",s);d("routeLoading",Object.assign({},s));const r=c[e].component;if($!=r){r.loading?(n(0,i=r.loading),$=r,n(1,a=r.loadingParams),n(2,u={}),d("routeLoaded",Object.assign({},s,{component:i,name:i.name,params:a}))):(n(0,i=null),$=null);const e=await r();if(t!=m)return;n(0,i=e&&e.default||e),$=r}return l&&"object"==typeof l&&Object.keys(l).length?n(1,a=l):n(1,a=null),n(2,u=c[e].props),void d("routeLoaded",Object.assign({},s,{component:i,name:i.name,params:a})).then((()=>{_t.set(a)}))}n(0,i=null),$=null,_t.set(void 0)}));return function(t){q().$$.on_destroy.push(t)}((()=>{v(),h&&window.removeEventListener("popstate",h)})),t.$$set=t=>{"routes"in t&&n(3,l=t.routes),"prefix"in t&&n(4,s=t.prefix),"restoreScrollState"in t&&n(5,r=t.restoreScrollState)},t.$$.update=()=>{32&t.$$.dirty&&(history.scrollRestoration=r?"manual":"auto")},[i,a,u,l,s,r,function(e){T.call(this,t,e)},function(e){T.call(this,t,e)}]}class At extends pt{constructor(t){super(),dt(this,t,Nt,yt,o,{routes:3,prefix:4,restoreScrollState:5})}}function Lt(t,e,n){const l=t.slice();return l[4]=e[n],l}function Ot(e){let n,l,s,o,c,i,a,u=e[4].label+"";return{c(){n=w("li"),l=w("a"),s=_(u),c=E(),N(l,"href",o=e[4].url),M(l,"active","/"!==e[4].url&&0===e[1].indexOf(e[4].url)||"/"===e[4].url&&e[1]===e[4].url)},m(e,o){var u;b(e,n,o),v(n,l),v(l,s),v(n,c),i||(u=Et.call(null,l),a=u&&r(u.destroy)?u.destroy:t,i=!0)},p(t,e){1&e&&u!==(u=t[4].label+"")&&O(s,u),1&e&&o!==(o=t[4].url)&&N(l,"href",o),3&e&&M(l,"active","/"!==t[4].url&&0===t[1].indexOf(t[4].url)||"/"===t[4].url&&t[1]===t[4].url)},d(t){t&&y(n),i=!1,a()}}}function jt(e){let n,l,s=e[0],r=[];for(let t=0;t<s.length;t+=1)r[t]=Ot(Lt(e,s,t));return{c(){n=w("div"),l=w("ul");for(let t=0;t<r.length;t+=1)r[t].c();N(n,"class","menu svelte-hz6u9b")},m(t,e){b(t,n,e),v(n,l);for(let t=0;t<r.length;t+=1)r[t].m(l,null)},p(t,[e]){if(3&e){let n;for(s=t[0],n=0;n<s.length;n+=1){const o=Lt(t,s,n);r[n]?r[n].p(o,e):(r[n]=Ot(o),r[n].c(),r[n].m(l,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=s.length}},i:t,o:t,d(t){t&&y(n),x(r,t)}}}function Vt(t,e,n){let l,s,r;i(t,kt,(t=>n(3,r=t)));let{menu:o=[]}=e;return t.$$set=t=>{"menu"in t&&n(2,o=t.menu)},t.$$.update=()=>{4&t.$$.dirty&&n(0,l=o.filter((t=>!0))),8&t.$$.dirty&&n(1,s=r)},[l,s,o,r]}class It extends pt{constructor(t){super(),dt(this,t,Vt,jt,o,{menu:2})}}function Mt(e){let n,l,s,r;return s=new It({props:{menu:e[0]}}),{c(){n=w("header"),l=w("nav"),at(s.$$.fragment)},m(t,e){b(t,n,e),v(n,l),ut(s,l,null),r=!0},p:t,i(t){r||(st(s.$$.fragment,t),r=!0)},o(t){rt(s.$$.fragment,t),r=!1},d(t){t&&y(n),ft(s)}}}function Rt(t){return[[{url:"/",label:"Taxonomies",protected:!1}]]}class qt extends pt{constructor(t){super(),dt(this,t,Rt,Mt,o,{})}}const zt=["use"],Bt=["cosine-cluster","cosine-tsne-5","cosine-tsne-cluster-5","cosine-tsne-20","cosine-tsne-cluster-20","cosine-tsne-50","cosine-tsne-cluster-50","euclidean-cluster","euclidean-tsne-5","euclidean-tsne-cluster-5","euclidean-tsne-20","euclidean-tsne-cluster-20","euclidean-tsne-50","euclidean-tsne-cluster-50","matrix-cosine-mini","matrix-euclidean-mini"],Tt={nnlm:[32,64,null],use:[null]},Ft=[1,3,5,8,10,12],Pt={1:[0,2],3:[0,4],5:[0,6],8:[7,9],10:[7,11],12:[7,13]},Dt=[14,15],Ht=mt([]),Xt=mt(!1),Ut=mt([]),Yt=mt(1),Jt=mt([]),Kt=mt(1),Gt=mt(null),Wt=mt(0),Qt=mt([]),Zt=mt([]),te=$t(Kt,(t=>Math.floor(t/Ft.length))),ee=t=>fetch(t).then((t=>t.text())).then((t=>{t.length-t.lastIndexOf("\n")==1&&(t=t.substr(0,t.length-1));return t.split("\n").map((t=>t.split("\t")))})),ne=mt(JSON.parse(localStorage.getItem("taxonomies")||"[]").map((t=>(t.ids=t.ids.map((t=>parseInt(t.toString()))),t))));ne.subscribe((t=>{localStorage.setItem("taxonomies",JSON.stringify(t))}));const le=$t(ne,(t=>{const e={};return t.forEach(((t,n)=>{t.ids.forEach((t=>{e[t]=n}))})),e}));var se,re=new Uint8Array(16);function oe(){if(!se&&!(se="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return se(re)}var ce=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ie(t){return"string"==typeof t&&ce.test(t)}for(var ae=[],ue=0;ue<256;++ue)ae.push((ue+256).toString(16).substr(1));function fe(t,e,n){var l=(t=t||{}).random||(t.rng||oe)();if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,e){n=n||0;for(var s=0;s<16;++s)e[n+s]=l[s];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ae[t[e+0]]+ae[t[e+1]]+ae[t[e+2]]+ae[t[e+3]]+"-"+ae[t[e+4]]+ae[t[e+5]]+"-"+ae[t[e+6]]+ae[t[e+7]]+"-"+ae[t[e+8]]+ae[t[e+9]]+"-"+ae[t[e+10]]+ae[t[e+11]]+ae[t[e+12]]+ae[t[e+13]]+ae[t[e+14]]+ae[t[e+15]]).toLowerCase();if(!ie(n))throw TypeError("Stringified UUID is invalid");return n}(l)}class de extends Map{constructor(t,e=he){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(pe(this,t))}has(t){return super.has(pe(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const l=e(n);return t.has(l)?t.get(l):(t.set(l,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const l=e(n);t.has(l)&&(n=t.get(n),t.delete(l));return n}(this,t))}}function pe({_intern:t,_key:e},n){const l=e(n);return t.has(l)?t.get(l):n}function he(t){return null!==t&&"object"==typeof t?t.valueOf():t}function ge(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const me=Symbol("implicit");function $e(){var t=new de,e=[],n=[],l=me;function s(s){let r=t.get(s);if(void 0===r){if(l!==me)return l;t.set(s,r=e.push(s)-1)}return n[r%n.length]}return s.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new de;for(const l of n)t.has(l)||t.set(l,e.push(l)-1);return s},s.range=function(t){return arguments.length?(n=Array.from(t),s):n.slice()},s.unknown=function(t){return arguments.length?(l=t,s):l},s.copy=function(){return $e(e,n).unknown(l)},ge.apply(s,arguments),s}var ve=function(t){for(var e=t.length/6|0,n=new Array(e),l=0;l<e;)n[l]="#"+t.slice(6*l,6*++l);return n}("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function be(t,e,n){const l=t.slice();return l[19]=e[n],l}function ye(t,e,n){const l=t.slice();return l[19]=e[n],l}function xe(t){let e,n,l=t[4],s=[];for(let e=0;e<l.length;e+=1)s[e]=we(ye(t,l,e));let r=t[3],o=[];for(let e=0;e<r.length;e+=1)o[e]=ke(be(t,r,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=C();for(let t=0;t<o.length;t+=1)o[t].c();n=C()},m(t,l){for(let e=0;e<s.length;e+=1)s[e].m(t,l);b(t,e,l);for(let e=0;e<o.length;e+=1)o[e].m(t,l);b(t,n,l)},p(t,c){if(788&c){let n;for(l=t[4],n=0;n<l.length;n+=1){const r=ye(t,l,n);s[n]?s[n].p(r,c):(s[n]=we(r),s[n].c(),s[n].m(e.parentNode,e))}for(;n<s.length;n+=1)s[n].d(1);s.length=l.length}if(780&c){let e;for(r=t[3],e=0;e<r.length;e+=1){const l=be(t,r,e);o[e]?o[e].p(l,c):(o[e]=ke(l),o[e].c(),o[e].m(n.parentNode,n))}for(;e<o.length;e+=1)o[e].d(1);o.length=r.length}},d(t){x(s,t),t&&y(e),x(o,t),t&&y(n)}}}function we(t){let e,n,l;return{c(){e=k("circle"),N(e,"class","selection svelte-lppdb9"),N(e,"cx",n=t[8](t[2][t[19]])),N(e,"cy",l=t[9](t[2][t[19]])),N(e,"r","3")},m(t,n){b(t,e,n)},p(t,s){20&s&&n!==(n=t[8](t[2][t[19]]))&&N(e,"cx",n),20&s&&l!==(l=t[9](t[2][t[19]]))&&N(e,"cy",l)},d(t){t&&y(e)}}}function ke(t){let e,n,l;return{c(){e=k("circle"),N(e,"class","selection svelte-lppdb9"),N(e,"cx",n=t[8](t[2][t[19]])),N(e,"cy",l=t[9](t[2][t[19]])),N(e,"r","7")},m(t,n){b(t,e,n)},p(t,s){12&s&&n!==(n=t[8](t[2][t[19]]))&&N(e,"cx",n),12&s&&l!==(l=t[9](t[2][t[19]]))&&N(e,"cy",l)},d(t){t&&y(e)}}}function _e(e){let n,l,s,r,o,c,i,a,u,f,d,p=e[5]&&xe(e);return{c(){n=w("div"),l=w("div"),s=w("canvas"),r=E(),o=k("svg"),p&&p.c(),c=E(),i=w("p"),a=w("span"),u=_(e[6]),N(s,"id",e[7]),N(s,"width",Ee),N(s,"height",Ce),N(s,"class","svelte-lppdb9"),N(o,"width",Ee),N(o,"height",Ce),N(o,"class","svelte-lppdb9"),N(l,"class","svelte-lppdb9"),N(a,"class","svelte-lppdb9"),N(i,"class","svelte-lppdb9"),N(n,"class","tsne-container svelte-lppdb9"),V(n,"--tsne-width",Ee+"px"),V(n,"--tsne-height",Ce+"px")},m(t,h){b(t,n,h),v(n,l),v(l,s),v(l,r),v(l,o),p&&p.m(o,null),v(n,c),v(n,i),v(i,a),v(a,u),f||(d=S(n,"click",e[17]),f=!0)},p(t,[e]){t[5]?p?p.p(t,e):(p=xe(t),p.c(),p.m(o,null)):p&&(p.d(1),p=null),64&e&&O(u,t[6])},i:t,o:t,d(t){t&&y(n),p&&p.d(),f=!1,d()}}}let Ee=200,Ce=200;function Se(t,e,n){let l,s;i(t,Yt,(t=>n(16,s=t)));let{index:r=0}=e,{setActiveIndex:o}=e,{type:c=""}=e,{key:a=""}=e,{pca:u=0}=e,{positions:f=[]}=e,{clusters:d}=e,{selected:p=[]}=e,{selectedNeighbors:h=[]}=e;const g="uuid_"+fe().split("-").join("_"),m=$e(ve);let $=[0,0],v=[0,0];const b=t=>5+(t[0]-$[0])/(v[0]-$[0])*(Ee-10),y=t=>5+(t[1]-$[1])/(v[1]-$[1])*(Ce-10);let x=!1;z((()=>{n(5,x=!0)}));return t.$$set=t=>{"index"in t&&n(0,r=t.index),"setActiveIndex"in t&&n(1,o=t.setActiveIndex),"type"in t&&n(10,c=t.type),"key"in t&&n(11,a=t.key),"pca"in t&&n(12,u=t.pca),"positions"in t&&n(2,f=t.positions),"clusters"in t&&n(13,d=t.clusters),"selected"in t&&n(3,p=t.selected),"selectedNeighbors"in t&&n(4,h=t.selectedNeighbors)},t.$$.update=()=>{if(7168&t.$$.dirty&&n(6,l=`${u} - ${c} - ${a}`),122916&t.$$.dirty&&x){const t=document.querySelector(`#${g}`).getContext("2d");t.clearRect(0,0,Ee,Ce),n(14,$=[f[0][0],f[0][1]]),n(15,v=[f[0][0],f[0][1]]),f.forEach((t=>{t[0]<$[0]&&n(14,$[0]=t[0],$),t[1]<$[1]&&n(14,$[1]=t[1],$),t[0]>v[0]&&n(15,v[0]=t[0],v),t[1]>v[1]&&n(15,v[1]=t[1],v)})),f.forEach(((e,n)=>{t.fillStyle=n<d.length&&d[n][s]>=0?m(d[n][s].toString()):"rgba(255,255,255,0.3)",t.beginPath(),t.arc(b(e),y(e),1,0,2*Math.PI),t.fill()}))}},[r,o,f,p,h,x,l,g,b,y,c,a,u,d,$,v,s,()=>o(r)]}class Ne extends pt{constructor(t){super(),dt(this,t,Se,_e,o,{index:0,setActiveIndex:1,type:10,key:11,pca:12,positions:2,clusters:13,selected:3,selectedNeighbors:4})}}function Ae(t){let e,n;return{c(){e=w("b"),e.textContent="←",n=_(" ")},m(t,l){b(t,e,l),b(t,n,l)},d(t){t&&y(e),t&&y(n)}}}function Le(t){let e;return{c(){e=_(t[0])},m(t,n){b(t,e,n)},p(t,n){1&n&&O(e,t[0])},d(t){t&&y(e)}}}function Oe(t){let e,n;return{c(){e=w("strong"),n=_(t[0])},m(t,l){b(t,e,l),v(e,n)},p(t,e){1&e&&O(n,t[0])},d(t){t&&y(e)}}}function je(e){let n,l,s,r,o=e[3]&&Ae();function c(t,e){return t[2]?Oe:Le}let i=c(e),a=i(e);return{c(){n=w("button"),o&&o.c(),l=E(),a.c(),N(n,"class",e[1]),M(n,"stretch",e[4]),M(n,"invert",e[5])},m(t,c){b(t,n,c),o&&o.m(n,null),v(n,l),a.m(n,null),s||(r=S(n,"click",e[6]),s=!0)},p(t,[e]){t[3]?o||(o=Ae(),o.c(),o.m(n,l)):o&&(o.d(1),o=null),i===(i=c(t))&&a?a.p(t,e):(a.d(1),a=i(t),a&&(a.c(),a.m(n,null))),2&e&&N(n,"class",t[1]),18&e&&M(n,"stretch",t[4]),34&e&&M(n,"invert",t[5])},i:t,o:t,d(t){t&&y(n),o&&o.d(),a.d(),s=!1,r()}}}function Ve(t,e,n){let{label:l=""}=e,{type:s=""}=e,{bold:r=!0}=e,{back:o=!1}=e,{stretch:c=!1}=e,{invert:i=!1}=e;return t.$$set=t=>{"label"in t&&n(0,l=t.label),"type"in t&&n(1,s=t.type),"bold"in t&&n(2,r=t.bold),"back"in t&&n(3,o=t.back),"stretch"in t&&n(4,c=t.stretch),"invert"in t&&n(5,i=t.invert)},[l,s,r,o,c,i,function(e){T.call(this,t,e)}]}class Ie extends pt{constructor(t){super(),dt(this,t,Ve,je,o,{label:0,type:1,bold:2,back:3,stretch:4,invert:5})}}function Me(t,e,n){const l=t.slice();return l[10]=e[n],l[12]=n,l}function Re(t){let e,n,l,s,r,o,c,i,a,u=t[10].label+"";function f(...e){return t[6](t[12],t[10],...e)}return{c(){e=w("li"),n=w("input"),r=E(),o=w("label"),c=E(),N(n,"type","checkbox"),n.checked=l=t[0].includes(t[10].value),n.value=s=t[10].value,n.disabled=!0,N(n,"name","selection-"+t[2]),N(n,"id","selection-"+t[2]+"-"+t[12]),N(n,"class","svelte-15n7lgs"),N(o,"for","selection-"+t[2]+"-"+t[12]),N(o,"class","svelte-15n7lgs"),N(e,"class","svelte-15n7lgs"),M(e,"active",t[0].includes(t[10].value))},m(t,l){b(t,e,l),v(e,n),v(e,r),v(e,o),o.innerHTML=u,v(e,c),i||(a=S(e,"click",f),i=!0)},p(r,c){t=r,3&c&&l!==(l=t[0].includes(t[10].value))&&(n.checked=l),2&c&&s!==(s=t[10].value)&&(n.value=s),2&c&&u!==(u=t[10].label+"")&&(o.innerHTML=u),3&c&&M(e,"active",t[0].includes(t[10].value))},d(t){t&&y(e),i=!1,a()}}}function qe(t){let e,n,l,s,r,o,c=t[1],i=[];for(let e=0;e<c.length;e+=1)i[e]=Re(Me(t,c,e));return l=new Ie({props:{label:"Select all"}}),l.$on("click",t[7]),r=new Ie({props:{label:"Remove selection"}}),r.$on("click",t[8]),{c(){e=w("ul");for(let t=0;t<i.length;t+=1)i[t].c();n=E(),at(l.$$.fragment),s=E(),at(r.$$.fragment),N(e,"class","svelte-15n7lgs")},m(t,c){b(t,e,c);for(let t=0;t<i.length;t+=1)i[t].m(e,null);b(t,n,c),ut(l,t,c),b(t,s,c),ut(r,t,c),o=!0},p(t,[n]){if(15&n){let l;for(c=t[1],l=0;l<c.length;l+=1){const s=Me(t,c,l);i[l]?i[l].p(s,n):(i[l]=Re(s),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=c.length}},i(t){o||(st(l.$$.fragment,t),st(r.$$.fragment,t),o=!0)},o(t){rt(l.$$.fragment,t),rt(r.$$.fragment,t),o=!1},d(t){t&&y(e),x(i,t),t&&y(n),ft(l,t),t&&y(s),ft(r,t)}}}function ze(t,e,n){const l=fe();let{data:s=[]}=e,{selection:r=[]}=e,o=null;const c=(t,e,l)=>{const c=r;if(console.log(o,t.shiftKey),null!==o&&o!==e&&t.shiftKey){let t="add";c.includes(l.value)&&(t="remove");const n=[e,o].sort(((t,e)=>t-e));console.log(t,n,c);for(let e=n[0];e<=n[1];e+=1)"add"===t?c.includes(s[e].value)||c.push(s[e].value):c.includes(s[e].value)&&c.splice(c.indexOf(s[e].value),1)}else c.includes(l.value)?c.splice(c.indexOf(l.value),1):c.push(l.value);n(0,r=c),o=e},i=()=>{n(0,r=[])},a=()=>{const t=[];for(let e=0;e<s.length;e+=1)t.push(s[e].value);n(0,r=t)};return t.$$set=t=>{"data"in t&&n(1,s=t.data),"selection"in t&&n(0,r=t.selection)},[r,s,l,c,i,a,(t,e,n)=>c(n,t,e),()=>a(),()=>i()]}class Be extends pt{constructor(t){super(),dt(this,t,ze,qe,o,{data:1,selection:0})}}function Te(e){let n,l,s,r,o,c;return{c(){n=w("div"),l=w("img"),r=E(),o=w("p"),c=_(e[0]),l.src!==(s="build/assets/images/svg/logo-animation.svg")&&N(l,"src","build/assets/images/svg/logo-animation.svg"),N(l,"alt",e[0]),N(n,"class","loader")},m(t,e){b(t,n,e),v(n,l),v(n,r),v(n,o),v(o,c)},p(t,[e]){1&e&&N(l,"alt",t[0]),1&e&&O(c,t[0])},i:t,o:t,d(t){t&&y(n)}}}function Fe(t,e,n){let{text:l=""}=e;return t.$$set=t=>{"text"in t&&n(0,l=t.text)},[l]}class Pe extends pt{constructor(t){super(),dt(this,t,Fe,Te,o,{text:0})}}function De(t){let e,n;return{c(){e=w("label"),n=_(t[0]),N(e,"for",t[3])},m(t,l){b(t,e,l),v(e,n)},p(t,l){1&l&&O(n,t[0]),8&l&&N(e,"for",t[3])},d(t){t&&y(e)}}}function He(t){let e,n;return{c(){e=w("p"),n=_(t[1])},m(t,l){b(t,e,l),v(e,n)},p(t,e){2&e&&O(n,t[1])},d(t){t&&y(e)}}}function Xe(t){let e,n;return{c(){e=w("p"),n=_(t[2]),N(e,"class","warning")},m(t,l){b(t,e,l),v(e,n)},p(t,e){4&e&&O(n,t[2])},d(t){t&&y(e)}}}function Ue(t){let e,n,l,s,r,o=""!==t[0]&&De(t),c=""!==t[1]&&He(t);const i=t[6].default,u=a(i,t,t[5],null);let d=""!==t[2]&&Xe(t);return{c(){e=w("div"),o&&o.c(),n=E(),c&&c.c(),l=E(),u&&u.c(),s=E(),d&&d.c(),N(e,"class","form-el"),M(e,"tight",t[4])},m(t,i){b(t,e,i),o&&o.m(e,null),v(e,n),c&&c.m(e,null),v(e,l),u&&u.m(e,null),v(e,s),d&&d.m(e,null),r=!0},p(t,[s]){""!==t[0]?o?o.p(t,s):(o=De(t),o.c(),o.m(e,n)):o&&(o.d(1),o=null),""!==t[1]?c?c.p(t,s):(c=He(t),c.c(),c.m(e,l)):c&&(c.d(1),c=null),u&&u.p&&(!r||32&s)&&f(u,i,t,t[5],r?s:-1,null,null),""!==t[2]?d?d.p(t,s):(d=Xe(t),d.c(),d.m(e,null)):d&&(d.d(1),d=null),16&s&&M(e,"tight",t[4])},i(t){r||(st(u,t),r=!0)},o(t){rt(u,t),r=!1},d(t){t&&y(e),o&&o.d(),c&&c.d(),u&&u.d(t),d&&d.d()}}}function Ye(t,e,n){let{$$slots:l={},$$scope:s}=e,{label:r=""}=e,{description:o=""}=e,{warning:c=""}=e,{id:i=""}=e,{tight:a=!1}=e;return t.$$set=t=>{"label"in t&&n(0,r=t.label),"description"in t&&n(1,o=t.description),"warning"in t&&n(2,c=t.warning),"id"in t&&n(3,i=t.id),"tight"in t&&n(4,a=t.tight),"$$scope"in t&&n(5,s=t.$$scope)},[r,o,c,i,a,s,l]}class Je extends pt{constructor(t){super(),dt(this,t,Ye,Ue,o,{label:0,description:1,warning:2,id:3,tight:4})}}function Ke(t,e,n){const l=t.slice();return l[7]=e[n],l}function Ge(t){let e,n,l,s=t[7].label+"";return{c(){e=w("option"),n=_(s),e.__value=l=t[7].value,e.value=e.__value},m(t,l){b(t,e,l),v(e,n)},p(t,r){32&r&&s!==(s=t[7].label+"")&&O(n,s),32&r&&l!==(l=t[7].value)&&(e.__value=l,e.value=e.__value)},d(t){t&&y(e)}}}function We(t){let e,n,l,s,r=t[5],o=[];for(let e=0;e<r.length;e+=1)o[e]=Ge(Ke(t,r,e));return{c(){e=w("select"),n=w("option"),n.textContent="Please choose";for(let t=0;t<o.length;t+=1)o[t].c();n.disabled=!0,n.__value="Please choose",n.value=n.__value,void 0===t[0]&&J((()=>t[6].call(e)))},m(r,c){b(r,e,c),v(e,n);for(let t=0;t<o.length;t+=1)o[t].m(e,null);I(e,t[0]),l||(s=S(e,"change",t[6]),l=!0)},p(t,n){if(32&n){let l;for(r=t[5],l=0;l<r.length;l+=1){const s=Ke(t,r,l);o[l]?o[l].p(s,n):(o[l]=Ge(s),o[l].c(),o[l].m(e,null))}for(;l<o.length;l+=1)o[l].d(1);o.length=r.length}33&n&&I(e,t[0])},d(t){t&&y(e),x(o,t),l=!1,s()}}}function Qe(t){let e,n;return e=new Je({props:{label:t[3],description:t[4],id:t[1],warning:t[2],$$slots:{default:[We]},$$scope:{ctx:t}}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,[n]){const l={};8&n&&(l.label=t[3]),16&n&&(l.description=t[4]),2&n&&(l.id=t[1]),4&n&&(l.warning=t[2]),1057&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Ze(t,e,n){let{id:l=""}=e,{warning:s=""}=e,{label:r=""}=e,{description:o=""}=e,{value:c=""}=e,{values:i=[]}=e;return t.$$set=t=>{"id"in t&&n(1,l=t.id),"warning"in t&&n(2,s=t.warning),"label"in t&&n(3,r=t.label),"description"in t&&n(4,o=t.description),"value"in t&&n(0,c=t.value),"values"in t&&n(5,i=t.values)},[c,l,s,r,o,i,function(){c=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(0,c),n(5,i)}]}class tn extends pt{constructor(t){super(),dt(this,t,Ze,Qe,o,{id:1,warning:2,label:3,description:4,value:0,values:5})}}function en(t){let e,n,l,s,r,o,c,i,a,u,f,d,p;return{c(){e=w("div"),n=w("span"),l=_(t[5]),s=E(),r=w("label"),o=w("input"),c=E(),i=w("span"),a=E(),u=w("span"),f=_(t[6]),M(n,"inactive",t[0]),N(o,"type","checkbox"),N(o,"id",t[1]),N(r,"for",t[1]),M(u,"inactive",!t[0]),N(e,"class","toggle")},m(h,g){b(h,e,g),v(e,n),v(n,l),v(e,s),v(e,r),v(r,o),o.checked=t[0],v(r,c),v(r,i),v(e,a),v(e,u),v(u,f),d||(p=S(o,"change",t[7]),d=!0)},p(t,e){32&e&&O(l,t[5]),1&e&&M(n,"inactive",t[0]),2&e&&N(o,"id",t[1]),1&e&&(o.checked=t[0]),2&e&&N(r,"for",t[1]),64&e&&O(f,t[6]),1&e&&M(u,"inactive",!t[0])},d(t){t&&y(e),d=!1,p()}}}function nn(t){let e,n;return e=new Je({props:{label:t[3],description:t[4],id:t[1],warning:t[2],$$slots:{default:[en]},$$scope:{ctx:t}}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,[n]){const l={};8&n&&(l.label=t[3]),16&n&&(l.description=t[4]),2&n&&(l.id=t[1]),4&n&&(l.warning=t[2]),355&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function ln(t,e,n){let{id:l=""}=e,{warning:s=""}=e,{label:r=""}=e,{description:o=""}=e,{checked:c=!1}=e,{labelLeft:i="Ja"}=e,{labelRight:a="Nein"}=e;return t.$$set=t=>{"id"in t&&n(1,l=t.id),"warning"in t&&n(2,s=t.warning),"label"in t&&n(3,r=t.label),"description"in t&&n(4,o=t.description),"checked"in t&&n(0,c=t.checked),"labelLeft"in t&&n(5,i=t.labelLeft),"labelRight"in t&&n(6,a=t.labelRight)},[c,l,s,r,o,i,a,function(){c=this.checked,n(0,c)}]}class sn extends pt{constructor(t){super(),dt(this,t,ln,nn,o,{id:1,warning:2,label:3,description:4,checked:0,labelLeft:5,labelRight:6})}}function rn(t){let e,n,l;return{c(){e=w("input"),N(e,"type","text"),N(e,"placeholder",t[5]),N(e,"name",t[1])},m(s,r){b(s,e,r),j(e,t[0]),n||(l=S(e,"input",t[7]),n=!0)},p(t,n){32&n&&N(e,"placeholder",t[5]),2&n&&N(e,"name",t[1]),1&n&&e.value!==t[0]&&j(e,t[0])},d(t){t&&y(e),n=!1,l()}}}function on(t){let e,n;return e=new Je({props:{label:t[3],description:t[4],id:t[1],warning:t[2],tight:t[6],$$slots:{default:[rn]},$$scope:{ctx:t}}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,[n]){const l={};8&n&&(l.label=t[3]),16&n&&(l.description=t[4]),2&n&&(l.id=t[1]),4&n&&(l.warning=t[2]),64&n&&(l.tight=t[6]),291&n&&(l.$$scope={dirty:n,ctx:t}),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function cn(t,e,n){let{id:l=""}=e,{warning:s=""}=e,{label:r=""}=e,{description:o=""}=e,{placeholder:c=""}=e,{tight:i=!1}=e,{value:a=""}=e;return t.$$set=t=>{"id"in t&&n(1,l=t.id),"warning"in t&&n(2,s=t.warning),"label"in t&&n(3,r=t.label),"description"in t&&n(4,o=t.description),"placeholder"in t&&n(5,c=t.placeholder),"tight"in t&&n(6,i=t.tight),"value"in t&&n(0,a=t.value)},[a,l,s,r,o,c,i,function(){a=this.value,n(0,a)}]}class an extends pt{constructor(t){super(),dt(this,t,cn,on,o,{id:1,warning:2,label:3,description:4,placeholder:5,tight:6,value:0})}}function un(e){let n,l,r,o,c,i,a,u,f,d,p,h,g,m,$,x,k,_,C,A,O,I,M,R,q,z,B,T,F,P,D,H,X,U,Y,J,K,G,W,Q,Z,tt,et,nt,lt,st,rt,ot,ct;return{c(){n=w("div"),l=w("div"),r=w("div"),o=w("div"),c=w("div"),i=E(),a=w("div"),u=E(),f=w("div"),d=w("div"),p=E(),h=w("div"),g=E(),m=w("div"),$=w("div"),x=E(),k=w("div"),_=E(),C=w("div"),A=E(),O=w("div"),I=w("div"),M=w("div"),R=E(),q=w("div"),z=w("input"),B=E(),T=w("div"),F=w("div"),P=w("input"),D=E(),H=w("p"),H.textContent="R",X=E(),U=w("div"),Y=w("input"),J=E(),K=w("p"),K.textContent="G",G=E(),W=w("div"),Q=w("input"),Z=E(),tt=w("p"),tt.textContent="B",et=E(),nt=w("div"),lt=w("input"),st=E(),rt=w("p"),rt.textContent="A",N(c,"id","colorsquare-picker"),N(c,"class","svelte-1xvatxw"),N(a,"id","colorsquare-event"),N(a,"class","svelte-1xvatxw"),N(o,"class","value-gradient svelte-1xvatxw"),N(r,"class","saturation-gradient svelte-1xvatxw"),N(l,"class","colorsquare size svelte-1xvatxw"),V(l,"background-color",`rgba(${e[5]},${e[6]},${e[7]},1)`),N(d,"id","hue-picker"),N(d,"class","svelte-1xvatxw"),N(h,"id","hue-event"),N(h,"class","svelte-1xvatxw"),N(f,"class","hue-selector svelte-1xvatxw"),N($,"class","alpha-value svelte-1xvatxw"),N(k,"id","alpha-picker"),N(k,"class","svelte-1xvatxw"),N(C,"id","alpha-event"),N(C,"class","svelte-1xvatxw"),N(m,"class","alpha-selector svelte-1xvatxw"),N(M,"class","color-picked svelte-1xvatxw"),V(M,"background-color","rgba("+e[2]+","+e[3]+","+e[4]+","+e[1]+")"),N(I,"class","color-picked-bg svelte-1xvatxw"),N(z,"class","hex svelte-1xvatxw"),N(z,"type","text"),N(q,"class","hex-text-block svelte-1xvatxw"),N(P,"class","rgb svelte-1xvatxw"),N(P,"type","number"),N(P,"min","0"),N(P,"max","255"),N(H,"class","text-label svelte-1xvatxw"),N(F,"class","rgb-text-block svelte-1xvatxw"),N(Y,"class","rgb svelte-1xvatxw"),N(Y,"type","number"),N(Y,"min","0"),N(Y,"max","255"),N(K,"class","text-label svelte-1xvatxw"),N(U,"class","rgb-text-block svelte-1xvatxw"),N(Q,"class","rgb svelte-1xvatxw"),N(Q,"type","number"),N(Q,"min","0"),N(Q,"max","255"),N(tt,"class","text-label svelte-1xvatxw"),N(W,"class","rgb-text-block svelte-1xvatxw"),N(lt,"class","rgb svelte-1xvatxw"),N(lt,"type","number"),N(lt,"min","0"),N(lt,"max","255"),N(rt,"class","text-label svelte-1xvatxw"),N(nt,"class","rgb-text-block svelte-1xvatxw"),N(T,"class","rgb-text-div svelte-1xvatxw"),N(O,"class","color-info-box svelte-1xvatxw"),N(n,"class","main-container svelte-1xvatxw")},m(t,s){b(t,n,s),v(n,l),v(l,r),v(r,o),v(o,c),v(o,i),v(o,a),v(n,u),v(n,f),v(f,d),v(f,p),v(f,h),v(n,g),v(n,m),v(m,$),v(m,x),v(m,k),v(m,_),v(m,C),v(n,A),v(n,O),v(O,I),v(I,M),v(O,R),v(O,q),v(q,z),j(z,e[0]),v(O,B),v(O,T),v(T,F),v(F,P),j(P,e[2]),v(F,D),v(F,H),v(T,X),v(T,U),v(U,Y),j(Y,e[3]),v(U,J),v(U,K),v(T,G),v(T,W),v(W,Q),j(Q,e[4]),v(W,Z),v(W,tt),v(T,et),v(T,nt),v(nt,lt),j(lt,e[1]),v(nt,st),v(nt,rt),ot||(ct=[S(a,"mousedown",e[9]),S(a,"mousemove",e[10]),S(h,"mousedown",e[11]),S(h,"mousemove",e[12]),S(C,"mousedown",e[13]),S(C,"mousemove",e[14]),S(z,"input",e[18]),S(z,"change",e[19]),S(P,"input",e[20]),S(P,"change",e[21]),S(Y,"input",e[22]),S(Y,"change",e[23]),S(Q,"input",e[24]),S(Q,"change",e[25]),S(lt,"input",e[26]),S(lt,"change",e[27])],ot=!0)},p(t,e){224&e[0]&&V(l,"background-color",`rgba(${t[5]},${t[6]},${t[7]},1)`),30&e[0]&&V(M,"background-color","rgba("+t[2]+","+t[3]+","+t[4]+","+t[1]+")"),1&e[0]&&z.value!==t[0]&&j(z,t[0]),4&e[0]&&L(P.value)!==t[2]&&j(P,t[2]),8&e[0]&&L(Y.value)!==t[3]&&j(Y,t[3]),16&e[0]&&L(Q.value)!==t[4]&&j(Q,t[4]),2&e[0]&&L(lt.value)!==t[1]&&j(lt,t[1])},i:t,o:t,d(t){t&&y(n),ot=!1,s(ct)}}}function fn(t,e,n){let l,s,r,{color:o=[0,0,0,1]}=e,{hexValue:c="#FF0000"}=e;z((()=>{document.addEventListener("mouseup",f),b()}));let i=!1,a=!1,u=!1;const f=()=>{i=!1,a=!1,u=!1};let d=1,p=1,h=1,g=1,m=255,$=0,v=0;const b=()=>{let t=c.replace("#","");if(6!==t.length&&!t.match(/([^A-F0-9])/gi)){let e="";3===t.length?t.split("").forEach((t=>{e+=t+t})):e=t,n(2,m=parseInt(e.substring(0,2),16)),n(3,$=parseInt(e.substring(2,4),16)),n(4,v=parseInt(e.substring(4,6),16));const l=C(m,$,v);n(17,d=l.h),p=l.s,h=l.v,w(),y(),x()}},y=()=>{const t=document.querySelector("#colorsquare-picker"),e=100*p,n=100*(1-h);t.style.top=n+"%",t.style.left=e+"%"},x=()=>{const t=document.querySelector("#hue-picker"),e=100*d;t.style.left=e+"%"},w=()=>{k()},k=()=>{let t=_(d,p,h);n(2,m=t[0]),n(3,$=t[1]),n(4,v=t[2]),n(0,c=E()),n(16,o=[m,$,v,g])},_=(t,e,n)=>{let l,s,r;const o=Math.floor(6*t),c=6*t-o,i=n*(1-e),a=n*(1-c*e),u=n*(1-(1-c)*e);switch(o%6){case 0:l=n,s=u,r=i;break;case 1:l=a,s=n,r=i;break;case 2:l=i,s=n,r=u;break;case 3:l=i,s=a,r=n;break;case 4:l=u,s=i,r=n;break;case 5:l=n,s=i,r=a}return[Math.round(255*l),Math.round(255*s),Math.round(255*r)]},E=()=>{let t=m.toString(16),e=$.toString(16),n=v.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),("#"+t+e+n).toUpperCase()},C=(t,e,n)=>{let l,s,r,o,c,i,a,u,f,d;l=t/255,s=e/255,r=n/255,o=Math.max(l,s,r),c=Math.min(l,s,r),i=o-c,d=o,f=0==d?0:i/o;for(let t=0;t<3;t++)if([l,s,r][t]===o){a=t;break}if(0==i)return u=0,{h:u,s:f,v:d};switch(a){case 0:u=(s-r)/i%6*60/360;break;case 1:u=60*((r-l)/i+2)/360;break;case 2:u=60*((l-s)/i+4)/360}return u<0&&(u+=6),{h:u,s:f,v:d}};return t.$$set=t=>{"color"in t&&n(16,o=t.color),"hexValue"in t&&n(0,c=t.hexValue)},t.$$.update=()=>{131072&t.$$.dirty[0]&&n(5,l=_(d,1,1)[0]),131072&t.$$.dirty[0]&&n(6,s=_(d,1,1)[1]),131072&t.$$.dirty[0]&&n(7,r=_(d,1,1)[2])},[c,g,m,$,v,l,s,r,b,()=>{i=!0},t=>{i&&(p=t.layerX/240,h=1-t.layerY/160,y(),k())},()=>{a=!0},t=>{if(a){const e=document.querySelector("#hue-picker"),l=t.layerX/220;e.style.left=(100*l).toFixed(2)+"%",n(17,d=l),w()}},()=>{u=!0},t=>{if(u){const e=document.querySelector("#alpha-picker"),l=t.layerX/220;e.style.left=(100*l).toFixed(2)+"%",n(1,g=l),k()}},k,o,d,function(){c=this.value,n(0,c)},()=>b(),function(){m=L(this.value),n(2,m)},()=>k(),function(){$=L(this.value),n(3,$)},()=>k(),function(){v=L(this.value),n(4,v)},()=>k(),function(){g=L(this.value),n(1,g)},()=>k()]}class dn extends pt{constructor(t){super(),dt(this,t,fn,un,o,{color:16,hexValue:0},[-1,-1])}}function pn(t){let n,l,r,o,c;const i=t[2].default,u=a(i,t,t[1],null);let d=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},t[0]],p={};for(let t=0;t<d.length;t+=1)p=e(p,d[t]);return{c(){n=k("svg"),u&&u.c(),l=k("path"),N(l,"d","M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168l10-10zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207 11.207 2.5zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293l6.5-6.5zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325z"),A(n,p),M(n,"bi",!0),M(n,"bi-pencil",!0)},m(e,s){b(e,n,s),u&&u.m(n,null),v(n,l),r=!0,o||(c=[S(n,"click",t[3]),S(n,"mouseover",t[4]),S(n,"mouseenter",t[5]),S(n,"mouseleave",t[6]),S(n,"keydown",t[7])],o=!0)},p(t,[e]){u&&u.p&&(!r||2&e)&&f(u,i,t,t[1],r?e:-1,null,null),A(n,p=ot(d,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&e&&t[0]])),M(n,"bi",!0),M(n,"bi-pencil",!0)},i(t){r||(st(u,t),r=!0)},o(t){rt(u,t),r=!1},d(t){t&&y(n),u&&u.d(t),o=!1,s(c)}}}function hn(t,n,l){const s=[];let r=p(n,s),{$$slots:o={},$$scope:c}=n;return t.$$set=t=>{n=e(e({},n),d(t)),l(0,r=p(n,s)),"$$scope"in t&&l(1,c=t.$$scope)},[r,c,o,function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(e){T.call(this,t,e)}]}class gn extends pt{constructor(t){super(),dt(this,t,hn,pn,o,{})}}function mn(t){let n,l,r,o,c,i;const u=t[2].default,d=a(u,t,t[1],null);let p=[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},t[0]],h={};for(let t=0;t<p.length;t+=1)h=e(h,p[t]);return{c(){n=k("svg"),d&&d.c(),l=k("path"),r=k("path"),N(l,"d","M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"),N(r,"fill-rule","evenodd"),N(r,"d","M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"),A(n,h),M(n,"bi",!0),M(n,"bi-trash",!0)},m(e,s){b(e,n,s),d&&d.m(n,null),v(n,l),v(n,r),o=!0,c||(i=[S(n,"click",t[3]),S(n,"mouseover",t[4]),S(n,"mouseenter",t[5]),S(n,"mouseleave",t[6]),S(n,"keydown",t[7])],c=!0)},p(t,[e]){d&&d.p&&(!o||2&e)&&f(d,u,t,t[1],o?e:-1,null,null),A(n,h=ot(p,[{xmlns:"http://www.w3.org/2000/svg"},{width:"16"},{height:"16"},{fill:"currentColor"},{viewBox:"0 0 16 16"},1&e&&t[0]])),M(n,"bi",!0),M(n,"bi-trash",!0)},i(t){o||(st(d,t),o=!0)},o(t){rt(d,t),o=!1},d(t){t&&y(n),d&&d.d(t),c=!1,s(i)}}}function $n(t,n,l){const s=[];let r=p(n,s),{$$slots:o={},$$scope:c}=n;return t.$$set=t=>{n=e(e({},n),d(t)),l(0,r=p(n,s)),"$$scope"in t&&l(1,c=t.$$scope)},[r,c,o,function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(e){T.call(this,t,e)},function(e){T.call(this,t,e)}]}class vn extends pt{constructor(t){super(),dt(this,t,$n,mn,o,{})}}function bn(t,e,n){const l=t.slice();return l[61]=e[n],l[63]=n,l}function yn(t,e,n){const l=t.slice();return l[64]=e[n],l}function xn(t,e,n){const l=t.slice();return l[64]=e[n],l}function wn(t,e,n){const l=t.slice();return l[69]=e[n],l[71]=n,l}function kn(t,e,n){const l=t.slice();return l[72]=e[n],l[74]=n,l}function _n(t,e,n){const l=t.slice();return l[75]=e[n],l[74]=n,l}function En(e){let n,l;return n=new Pe({props:{text:"Loading data..."}}),{c(){at(n.$$.fragment)},m(t,e){ut(n,t,e),l=!0},p:t,i(t){l||(st(n.$$.fragment,t),l=!0)},o(t){rt(n.$$.fragment,t),l=!1},d(t){ft(n,t)}}}function Cn(t){let e,n,l,s,r,o,c,i,a,u,f,d,p,h,g,m,$,_,S,A,L,O,j,V,I,M,R,q,z,B,T,F,D,H,X=t[1],U=[];for(let e=0;e<X.length;e+=1)U[e]=Sn(_n(t,X,e));const Y=t=>rt(U[t],1,1,(()=>{U[t]=null}));i=new Ie({props:{label:"Reset cluster selection"}}),i.$on("click",t[36]);let J=t[16],G=[];for(let e=0;e<J.length;e+=1)G[e]=Nn(kn(t,J,e));let W=null!=t[4]&&An(t);function Q(e){t[40](e)}let Z={id:"distanceToggle",labelLeft:"ML Cluster",labelRight:"Custom Cluster"};void 0!==t[14]&&(Z.checked=t[14]),g=new sn({props:Z}),P.push((()=>it(g,"checked",Q))),_=new Ie({props:{label:"Reset selection"}}),_.$on("click",t[41]);let tt=t[1][t[2]].positions,et=[];for(let e=0;e<tt.length;e+=1)et[e]=Ln(wn(t,tt,e));let ot=null!=t[8]&&On(t),ct=t[19].length>0&&jn(t),dt=t[19].length>0&&In(t),pt=t[19].length>0&&Rn(t),ht=t[19].length>0&&Bn(t),gt=t[18],mt=[];for(let e=0;e<gt.length;e+=1)mt[e]=Tn(bn(t,gt,e));const $t=t=>rt(mt[t],1,1,(()=>{mt[t]=null}));let vt=t[0]&&Fn(t);return{c(){e=w("div");for(let t=0;t<U.length;t+=1)U[t].c();n=E(),l=w("div"),s=w("div"),r=w("div"),o=w("h2"),o.textContent="Clusters",c=E(),at(i.$$.fragment),a=E(),u=w("ul");for(let t=0;t<G.length;t+=1)G[t].c();f=E(),W&&W.c(),d=E(),p=w("div"),h=w("div"),at(g.$$.fragment),$=E(),at(_.$$.fragment),S=E(),A=k("svg");for(let t=0;t<et.length;t+=1)et[t].c();L=C(),ot&&ot.c(),O=C(),ct&&ct.c(),j=C(),dt&&dt.c(),V=E(),I=w("div"),pt&&pt.c(),M=E(),ht&&ht.c(),R=E(),q=w("div"),z=w("h2"),z.textContent="Custom Cluster",B=E(),T=w("ul");for(let t=0;t<mt.length;t+=1)mt[t].c();F=E(),vt&&vt.c(),D=C(),N(e,"id","taxonomyViews"),N(e,"class","svelte-1bc6kyk"),N(o,"class","svelte-1bc6kyk"),N(u,"class","svelte-1bc6kyk"),N(r,"class","svelte-1bc6kyk"),N(s,"id","clusterView"),N(s,"class","svelte-1bc6kyk"),N(A,"width",Hn),N(A,"height",Xn),N(A,"viewBox","0 0 "+Hn+" "+Xn),N(A,"class","svelte-1bc6kyk"),N(p,"id","dataView"),N(p,"class","svelte-1bc6kyk"),N(z,"class","svelte-1bc6kyk"),N(T,"class","svelte-1bc6kyk"),N(q,"id","custom-clusters"),N(q,"class","svelte-1bc6kyk"),N(I,"id","neighborView"),N(I,"class","svelte-1bc6kyk"),N(l,"id","editor"),N(l,"class","svelte-1bc6kyk")},m(t,m){b(t,e,m);for(let t=0;t<U.length;t+=1)U[t].m(e,null);b(t,n,m),b(t,l,m),v(l,s),v(s,r),v(r,o),v(r,c),ut(i,r,null),v(r,a),v(r,u);for(let t=0;t<G.length;t+=1)G[t].m(u,null);v(s,f),W&&W.m(s,null),v(l,d),v(l,p),v(p,h),ut(g,h,null),v(h,$),ut(_,h,null),v(p,S),v(p,A);for(let t=0;t<et.length;t+=1)et[t].m(A,null);v(A,L),ot&&ot.m(A,null),v(A,O),ct&&ct.m(A,null),v(A,j),dt&&dt.m(A,null),v(l,V),v(l,I),pt&&pt.m(I,null),v(I,M),ht&&ht.m(I,null),v(I,R),v(I,q),v(q,z),v(q,B),v(q,T);for(let t=0;t<mt.length;t+=1)mt[t].m(T,null);b(t,F,m),vt&&vt.m(t,m),b(t,D,m),H=!0},p(t,n){if(5767170&n[0]){let l;for(X=t[1],l=0;l<X.length;l+=1){const s=_n(t,X,l);U[l]?(U[l].p(s,n),st(U[l],1)):(U[l]=Sn(s),U[l].c(),st(U[l],1),U[l].m(e,null))}for(nt(),l=X.length;l<U.length;l+=1)Y(l);lt()}if(75563024&n[0]){let e;for(J=t[16],e=0;e<J.length;e+=1){const l=kn(t,J,e);G[e]?G[e].p(l,n):(G[e]=Nn(l),G[e].c(),G[e].m(u,null))}for(;e<G.length;e+=1)G[e].d(1);G.length=J.length}null!=t[4]?W?(W.p(t,n),16&n[0]&&st(W,1)):(W=An(t),W.c(),st(W,1),W.m(s,null)):W&&(nt(),rt(W,1,1,(()=>{W=null})),lt());const l={};if(!m&&16384&n[0]&&(m=!0,l.checked=t[14],K((()=>m=!1))),g.$set(l),992231454&n[0]){let e;for(tt=t[1][t[2]].positions,e=0;e<tt.length;e+=1){const l=wn(t,tt,e);et[e]?et[e].p(l,n):(et[e]=Ln(l),et[e].c(),et[e].m(A,L))}for(;e<et.length;e+=1)et[e].d(1);et.length=tt.length}if(null!=t[8]?ot?ot.p(t,n):(ot=On(t),ot.c(),ot.m(A,O)):ot&&(ot.d(1),ot=null),t[19].length>0?ct?ct.p(t,n):(ct=jn(t),ct.c(),ct.m(A,j)):ct&&(ct.d(1),ct=null),t[19].length>0?dt?dt.p(t,n):(dt=In(t),dt.c(),dt.m(A,null)):dt&&(dt.d(1),dt=null),t[19].length>0?pt?pt.p(t,n):(pt=Rn(t),pt.c(),pt.m(I,M)):pt&&(pt.d(1),pt=null),t[19].length>0?ht?(ht.p(t,n),524288&n[0]&&st(ht,1)):(ht=Bn(t),ht.c(),st(ht,1),ht.m(I,R)):ht&&(nt(),rt(ht,1,1,(()=>{ht=null})),lt()),262144&n[0]|3&n[1]){let e;for(gt=t[18],e=0;e<gt.length;e+=1){const l=bn(t,gt,e);mt[e]?(mt[e].p(l,n),st(mt[e],1)):(mt[e]=Tn(l),mt[e].c(),st(mt[e],1),mt[e].m(T,null))}for(nt(),e=gt.length;e<mt.length;e+=1)$t(e);lt()}t[0]?vt?(vt.p(t,n),1&n[0]&&st(vt,1)):(vt=Fn(t),vt.c(),st(vt,1),vt.m(D.parentNode,D)):vt&&(nt(),rt(vt,1,1,(()=>{vt=null})),lt())},i(t){if(!H){for(let t=0;t<X.length;t+=1)st(U[t]);st(i.$$.fragment,t),st(W),st(g.$$.fragment,t),st(_.$$.fragment,t),st(ht);for(let t=0;t<gt.length;t+=1)st(mt[t]);st(vt),H=!0}},o(t){U=U.filter(Boolean);for(let t=0;t<U.length;t+=1)rt(U[t]);rt(i.$$.fragment,t),rt(W),rt(g.$$.fragment,t),rt(_.$$.fragment,t),rt(ht),mt=mt.filter(Boolean);for(let t=0;t<mt.length;t+=1)rt(mt[t]);rt(vt),H=!1},d(t){t&&y(e),x(U,t),t&&y(n),t&&y(l),ft(i),x(G,t),W&&W.d(),ft(g),ft(_),x(et,t),ot&&ot.d(),ct&&ct.d(),dt&&dt.d(),pt&&pt.d(),ht&&ht.d(),x(mt,t),t&&y(F),vt&&vt.d(t),t&&y(D)}}}function Sn(t){let e,n;return e=new Ne({props:{selected:t[19],selectedNeighbors:t[20],positions:t[75].positions,clusters:t[75].clusters,type:t[75].type,key:t[75].key,pca:t[75].pca,setActiveIndex:t[22],index:t[74]}}),{c(){at(e.$$.fragment)},m(t,l){ut(e,t,l),n=!0},p(t,n){const l={};524288&n[0]&&(l.selected=t[19]),1048576&n[0]&&(l.selectedNeighbors=t[20]),2&n[0]&&(l.positions=t[75].positions),2&n[0]&&(l.clusters=t[75].clusters),2&n[0]&&(l.type=t[75].type),2&n[0]&&(l.key=t[75].key),2&n[0]&&(l.pca=t[75].pca),e.$set(l)},i(t){n||(st(e.$$.fragment,t),n=!0)},o(t){rt(e.$$.fragment,t),n=!1},d(t){ft(e,t)}}}function Nn(t){let e,n,l,s,r,o,c,i,a,u,f=t[72].key+"",d=t[72].count+"";function p(){return t[37](t[72])}return{c(){e=w("li"),n=w("span"),l=E(),s=_(f),r=_(" "),o=w("span"),c=_(d),i=E(),N(n,"class","cluster-indicator svelte-1bc6kyk"),V(n,"background-color",t[26](t[72].key.toString())),N(o,"class","svelte-1bc6kyk"),N(e,"id","cluster-item-"+t[74]),N(e,"class","svelte-1bc6kyk"),M(e,"active",t[4]===t[72].key)},m(t,f){b(t,e,f),v(e,n),v(e,l),v(e,s),v(e,r),v(e,o),v(o,c),v(e,i),a||(u=S(e,"click",p),a=!0)},p(l,r){t=l,65536&r[0]&&V(n,"background-color",t[26](t[72].key.toString())),65536&r[0]&&f!==(f=t[72].key+"")&&O(s,f),65536&r[0]&&d!==(d=t[72].count+"")&&O(c,d),65552&r[0]&&M(e,"active",t[4]===t[72].key)},d(t){t&&y(e),a=!1,u()}}}function An(t){let e,n,l,s,r,o,c,i,a,u,f,d;function p(e){t[38](e)}let h={data:t[17]};return void 0!==t[6]&&(h.selection=t[6]),i=new Be({props:h}),P.push((()=>it(i,"selection",p))),f=new Ie({props:{label:"Assign to cluster"}}),f.$on("click",t[39]),{c(){e=w("div"),n=w("h2"),l=_("Labels in Cluster ("),s=w("span"),r=_(t[4]),o=_(")"),c=E(),at(i.$$.fragment),u=E(),at(f.$$.fragment),N(s,"class","cluster-indicator large svelte-1bc6kyk"),V(s,"background-color",t[26](t[4].toString())),N(n,"class","svelte-1bc6kyk"),N(e,"class","svelte-1bc6kyk")},m(t,a){b(t,e,a),v(e,n),v(n,l),v(n,s),v(n,r),v(n,o),v(e,c),ut(i,e,null),v(e,u),ut(f,e,null),d=!0},p(t,e){(!d||16&e[0])&&V(s,"background-color",t[26](t[4].toString())),(!d||16&e[0])&&O(r,t[4]);const n={};131072&e[0]&&(n.data=t[17]),!a&&64&e[0]&&(a=!0,n.selection=t[6],K((()=>a=!1))),i.$set(n)},i(t){d||(st(i.$$.fragment,t),st(f.$$.fragment,t),d=!0)},o(t){rt(i.$$.fragment,t),rt(f.$$.fragment,t),d=!1},d(t){t&&y(e),ft(i),ft(f)}}}function Ln(t){let e,n,l,r,o,c;function i(){return t[42](t[71])}function a(){return t[44](t[71])}return{c(){e=k("circle"),N(e,"cx",n=t[27](t[69])),N(e,"cy",l=t[28](t[69])),N(e,"r","2"),N(e,"fill",r=t[29](t[71],t[2],t[3],t[14],t[18],t[21])),N(e,"class","svelte-1bc6kyk"),M(e,"inactive",null!=t[4]&&t[1][t[2]].clusters[t[71]][t[3]]!==t[4]),M(e,"active",null!=t[4]&&t[1][t[2]].clusters[t[71]][t[3]]===t[4])},m(n,l){b(n,e,l),o||(c=[S(e,"mouseover",i),S(e,"mouseout",t[43]),S(e,"click",a)],o=!0)},p(s,o){t=s,6&o[0]&&n!==(n=t[27](t[69]))&&N(e,"cx",n),6&o[0]&&l!==(l=t[28](t[69]))&&N(e,"cy",l),2375692&o[0]&&r!==(r=t[29](t[71],t[2],t[3],t[14],t[18],t[21]))&&N(e,"fill",r),30&o[0]&&M(e,"inactive",null!=t[4]&&t[1][t[2]].clusters[t[71]][t[3]]!==t[4]),30&o[0]&&M(e,"active",null!=t[4]&&t[1][t[2]].clusters[t[71]][t[3]]===t[4])},d(t){t&&y(e),o=!1,s(c)}}}function On(t){let e,n,l,s=t[5][t[8]]+"";return{c(){e=k("text"),n=_(s),N(e,"transform",l="translate("+t[27](t[1][t[2]].positions[t[8]])+","+t[28](t[1][t[2]].positions[t[8]])+")"),N(e,"text-anchor","start"),N(e,"class","svelte-1bc6kyk")},m(t,l){b(t,e,l),v(e,n)},p(t,r){288&r[0]&&s!==(s=t[5][t[8]]+"")&&O(n,s),262&r[0]&&l!==(l="translate("+t[27](t[1][t[2]].positions[t[8]])+","+t[28](t[1][t[2]].positions[t[8]])+")")&&N(e,"transform",l)},d(t){t&&y(e)}}}function jn(t){let e,n=t[19],l=[];for(let e=0;e<n.length;e+=1)l[e]=Vn(xn(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=C()},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);b(t,e,n)},p(t,s){if(403177478&s[0]){let r;for(n=t[19],r=0;r<n.length;r+=1){const o=xn(t,n,r);l[r]?l[r].p(o,s):(l[r]=Vn(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(t){x(l,t),t&&y(e)}}}function Vn(t){let e,n,l;return{c(){e=k("circle"),N(e,"class","highlighter svelte-1bc6kyk"),N(e,"cx",n=t[27](t[1][t[2]].positions[t[64]])),N(e,"cy",l=t[28](t[1][t[2]].positions[t[64]])),N(e,"r","5")},m(t,n){b(t,e,n)},p(t,s){524294&s[0]&&n!==(n=t[27](t[1][t[2]].positions[t[64]]))&&N(e,"cx",n),524294&s[0]&&l!==(l=t[28](t[1][t[2]].positions[t[64]]))&&N(e,"cy",l)},d(t){t&&y(e)}}}function In(t){let e,n=t[20],l=[];for(let e=0;e<n.length;e+=1)l[e]=Mn(yn(t,n,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=C()},m(t,n){for(let e=0;e<l.length;e+=1)l[e].m(t,n);b(t,e,n)},p(t,s){if(403701766&s[0]){let r;for(n=t[20],r=0;r<n.length;r+=1){const o=yn(t,n,r);l[r]?l[r].p(o,s):(l[r]=Mn(o),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=n.length}},d(t){x(l,t),t&&y(e)}}}function Mn(t){let e,n,l;return{c(){e=k("circle"),N(e,"class","small-highlighter svelte-1bc6kyk"),N(e,"cx",n=t[27](t[1][t[2]].positions[t[64]])),N(e,"cy",l=t[28](t[1][t[2]].positions[t[64]])),N(e,"r","3")},m(t,n){b(t,e,n)},p(t,s){1048582&s[0]&&n!==(n=t[27](t[1][t[2]].positions[t[64]]))&&N(e,"cx",n),1048582&s[0]&&l!==(l=t[28](t[1][t[2]].positions[t[64]]))&&N(e,"cy",l)},d(t){t&&y(e)}}}function Rn(t){let e,n,l,s,r,o,c,i,a,u,f,d,p,h,g,m,$,x=t[19][0]+"",k=t[5][t[19][0]]+"",C=t[1][t[2]].clusters[t[19][0]][t[3]]>=0&&qn(t),S=t[19][0]in t[21]&&zn(t);return{c(){e=w("div"),n=w("h2"),n.textContent="Selection",l=E(),s=w("table"),r=w("tr"),o=w("th"),o.textContent="ID",c=E(),i=w("td"),a=_(x),u=E(),f=w("tr"),d=w("th"),d.textContent="Label",p=E(),h=w("td"),g=_(k),m=E(),C&&C.c(),$=E(),S&&S.c(),N(n,"class","svelte-1bc6kyk"),N(e,"class","svelte-1bc6kyk")},m(t,y){b(t,e,y),v(e,n),v(e,l),v(e,s),v(s,r),v(r,o),v(r,c),v(r,i),v(i,a),v(s,u),v(s,f),v(f,d),v(f,p),v(f,h),v(h,g),v(s,m),C&&C.m(s,null),v(s,$),S&&S.m(s,null)},p(t,e){524288&e[0]&&x!==(x=t[19][0]+"")&&O(a,x),524320&e[0]&&k!==(k=t[5][t[19][0]]+"")&&O(g,k),t[1][t[2]].clusters[t[19][0]][t[3]]>=0?C?C.p(t,e):(C=qn(t),C.c(),C.m(s,$)):C&&(C.d(1),C=null),t[19][0]in t[21]?S?S.p(t,e):(S=zn(t),S.c(),S.m(s,null)):S&&(S.d(1),S=null)},d(t){t&&y(e),C&&C.d(),S&&S.d()}}}function qn(t){let e,n,l,s,r,o,c,i=t[1][t[2]].clusters[t[19][0]][t[3]]+"";return{c(){e=w("tr"),n=w("th"),n.textContent="Cluster",l=E(),s=w("td"),r=_(i)},m(i,a){b(i,e,a),v(e,n),v(e,l),v(e,s),v(s,r),o||(c=S(s,"click",t[45]),o=!0)},p(t,e){524302&e[0]&&i!==(i=t[1][t[2]].clusters[t[19][0]][t[3]]+"")&&O(r,i)},d(t){t&&y(e),o=!1,c()}}}function zn(t){let e,n,l,s,r,o=t[18][t[21][t[19][0]]].name+"";return{c(){e=w("tr"),n=w("th"),n.textContent="Custom Cluster",l=E(),s=w("td"),r=_(o)},m(t,o){b(t,e,o),v(e,n),v(e,l),v(e,s),v(s,r)},p(t,e){2883584&e[0]&&o!==(o=t[18][t[21][t[19][0]]].name+"")&&O(r,o)},d(t){t&&y(e)}}}function Bn(t){let e,n,l,s,r,o,c,i;function a(e){t[47](e)}let u={data:t[20].map(t[46])};return void 0!==t[7]&&(u.selection=t[7]),s=new Be({props:u}),P.push((()=>it(s,"selection",a))),c=new Ie({props:{label:"Assign to cluster"}}),c.$on("click",t[48]),{c(){e=w("div"),n=w("h2"),n.textContent="Neighbors",l=E(),at(s.$$.fragment),o=E(),at(c.$$.fragment),N(n,"class","svelte-1bc6kyk"),N(e,"class","svelte-1bc6kyk")},m(t,r){b(t,e,r),v(e,n),v(e,l),ut(s,e,null),v(e,o),ut(c,e,null),i=!0},p(t,e){const n={};3424300&e[0]&&(n.data=t[20].map(t[46])),!r&&128&e[0]&&(r=!0,n.selection=t[7],K((()=>r=!1))),s.$set(n)},i(t){i||(st(s.$$.fragment,t),st(c.$$.fragment,t),i=!0)},o(t){rt(s.$$.fragment,t),rt(c.$$.fragment,t),i=!1},d(t){t&&y(e),ft(s),ft(c)}}}function Tn(t){let e,n,l,s,r,o,c,i,a,u,f,d=t[61].name+"";return c=new gn({}),c.$on("click",(function(){return t[49](t[63])})),a=new vn({}),a.$on("click",(function(){return t[50](t[63])})),{c(){e=w("li"),n=w("span"),l=w("span"),s=_(d),r=E(),o=w("span"),at(c.$$.fragment),i=E(),at(a.$$.fragment),u=E(),N(l,"class","cluster-indicator svelte-1bc6kyk"),V(l,"background-color","rgba("+t[61].color.join(",")+")"),N(n,"class","svelte-1bc6kyk"),N(o,"class","edit-links svelte-1bc6kyk"),N(e,"class","svelte-1bc6kyk")},m(t,d){b(t,e,d),v(e,n),v(n,l),v(n,s),v(e,r),v(e,o),ut(c,o,null),v(o,i),ut(a,o,null),v(e,u),f=!0},p(e,n){t=e,(!f||262144&n[0])&&V(l,"background-color","rgba("+t[61].color.join(",")+")"),(!f||262144&n[0])&&d!==(d=t[61].name+"")&&O(s,d)},i(t){f||(st(c.$$.fragment,t),st(a.$$.fragment,t),f=!0)},o(t){rt(c.$$.fragment,t),rt(a.$$.fragment,t),f=!1},d(t){t&&y(e),ft(c),ft(a)}}}function Fn(t){let e,n,l,s,r,o,c,i,a,u,f,d,p=!t[12]&&Pn(t);function h(e){t[52](e)}let g={label:"New cluster name",placeholder:"Name"};function m(e){t[53](e)}void 0!==t[9]&&(g.value=t[9]),l=new an({props:g}),P.push((()=>it(l,"value",h)));let $={};return void 0!==t[13]&&($.color=t[13]),o=new dn({props:$}),P.push((()=>it(o,"color",m))),a=new Ie({props:{label:"Cancel",invert:!0}}),a.$on("click",t[54]),f=new Ie({props:{label:"Save",bold:!0}}),f.$on("click",t[30]),{c(){e=w("div"),p&&p.c(),n=E(),at(l.$$.fragment),r=E(),at(o.$$.fragment),i=E(),at(a.$$.fragment),u=E(),at(f.$$.fragment),N(e,"id","assignment"),N(e,"class","view svelte-1bc6kyk")},m(t,s){b(t,e,s),p&&p.m(e,null),v(e,n),ut(l,e,null),v(e,r),ut(o,e,null),v(e,i),ut(a,e,null),v(e,u),ut(f,e,null),d=!0},p(t,r){t[12]?p&&(nt(),rt(p,1,1,(()=>{p=null})),lt()):p?(p.p(t,r),4096&r[0]&&st(p,1)):(p=Pn(t),p.c(),st(p,1),p.m(e,n));const i={};!s&&512&r[0]&&(s=!0,i.value=t[9],K((()=>s=!1))),l.$set(i);const a={};!c&&8192&r[0]&&(c=!0,a.color=t[13],K((()=>c=!1))),o.$set(a)},i(t){d||(st(p),st(l.$$.fragment,t),st(o.$$.fragment,t),st(a.$$.fragment,t),st(f.$$.fragment,t),d=!0)},o(t){rt(p),rt(l.$$.fragment,t),rt(o.$$.fragment,t),rt(a.$$.fragment,t),rt(f.$$.fragment,t),d=!1},d(t){t&&y(e),p&&p.d(),ft(l),ft(o),ft(a),ft(f)}}}function Pn(t){let e,n,l;function s(e){t[51](e)}let r={label:"Choose existing cluster",values:[{label:"Create new cluster",value:null}].concat(t[18].map(Un))};return void 0!==t[10]&&(r.value=t[10]),e=new tn({props:r}),P.push((()=>it(e,"value",s))),{c(){at(e.$$.fragment)},m(t,n){ut(e,t,n),l=!0},p(t,l){const s={};262144&l[0]&&(s.values=[{label:"Create new cluster",value:null}].concat(t[18].map(Un))),!n&&1024&l[0]&&(n=!0,s.value=t[10],K((()=>n=!1))),e.$set(s)},i(t){l||(st(e.$$.fragment,t),l=!0)},o(t){rt(e.$$.fragment,t),l=!1},d(t){ft(e,t)}}}function Dn(t){let e,n,l,s;const r=[Cn,En],o=[];function c(t,e){return t[15]?0:1}return e=c(t),n=o[e]=r[e](t),{c(){n.c(),l=C()},m(t,n){o[e].m(t,n),b(t,l,n),s=!0},p(t,s){let i=e;e=c(t),e===i?o[e].p(t,s):(nt(),rt(o[i],1,1,(()=>{o[i]=null})),lt(),n=o[e],n?n.p(t,s):(n=o[e]=r[e](t),n.c()),st(n,1),n.m(l.parentNode,l))},i(t){s||(st(n),s=!0)},o(t){rt(n),s=!1},d(t){o[e].d(t),t&&y(l)}}}const Hn=800,Xn=800,Un=(t,e)=>({label:t.name,value:e});function Yn(t,e,n){let l,s,r,o,c,a,u,f,d,p,g,m,$,v,b,y;i(t,Xt,(t=>n(35,o=t))),i(t,Ut,(t=>n(1,c=t))),i(t,Kt,(t=>n(2,a=t))),i(t,Yt,(t=>n(3,u=t))),i(t,Gt,(t=>n(4,f=t))),i(t,Ht,(t=>n(5,d=t))),i(t,Qt,(t=>n(57,p=t))),i(t,te,(t=>n(58,g=t))),i(t,Wt,(t=>n(59,m=t))),i(t,ne,(t=>n(18,$=t))),i(t,Jt,(t=>n(19,v=t))),i(t,Zt,(t=>n(20,b=t))),i(t,le,(t=>n(21,y=t))),z((()=>{o||(async()=>{const t=[],e=[];for(let n=0;n<zt.length;n+=1){let l=[];Object.keys(Tt).forEach((t=>{zt[n].indexOf(t)>-1&&(l=Tt[t])}));for(let s=0;s<l.length;s+=1){t.push({pca:l[s],type:zt[n]}),e.push([]);for(let t=0;t<Bt.length;t+=1)e[e.length-1].push(await ee(`./data/${l[s]?l[s]+"_":""}${zt[n]}-${Bt[t]}.tsv`))}}const n=await ee("./data/use-metadata.tsv");Ht.set(n.map((t=>t[0])));const l=[],s=[];e.forEach(((e,n)=>{const r=[];Dt.forEach((t=>{r.push(e[t])})),s.push(r),Ft.forEach((s=>{const r=[],o=[],c={};e[s].forEach((t=>{r.push([parseFloat(t[0]),parseFloat(t[1])])})),Pt[s].forEach(((t,n)=>{const l=[],s={};e[t].forEach(((t,e)=>{o.length<e+1&&o.push([]),o[e].push(parseInt(t[0])),t[0]in s||(l.push({key:parseInt(t[0]),count:0}),s[t[0]]=l.length-1),l[s[t[0]]].count+=1})),c[n]=l})),l.push({pca:t[n].pca,type:t[n].type,key:Bt[s],positions:r,clusters:o,clusterList:c})}))})),Ut.set(l),Qt.set(s),Xt.set(!0)})()}));let x=[],w=[];const k=t=>{n(6,x=[]),Gt.set(t)};let _=null;const E=t=>{n(8,_=t)},C=t=>{t?(Jt.set([t]),Zt.set(p[g][m][t])):(Jt.set([]),Zt.set([]))},S=$e(ve);let N=[0,0],A=[0,0];let L=!1,O="",j="",V=null,I=!1,M=null,R=[0,0,0,1];const q=(t,e,n,l,s,r)=>l?t in r?`rgba(${s[r[t]].color.join(",")})`:"rgba(255,0,0,1)":c[e].clusters[t][n]>=0?S(c[e].clusters[t][n].toString()):"#000";let B=!1;const T=t=>{const e=$;e.splice(t,1),h(ne,$=e,$)},F=t=>{n(12,I=!0),n(9,O=$[t].name),n(13,R=$[t].color),n(10,j=""),M=t,n(0,L=!0)};return t.$$.update=()=>{16&t.$$.dirty[1]&&n(15,l=o),14&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(16,s=o?c[a].clusterList[u].sort(((t,e)=>e.count-t.count)):[]),62&t.$$.dirty[0]|16&t.$$.dirty[1]&&n(17,r=o&&null!=f?d.map(((t,e)=>({label:t,value:e}))).filter(((t,e)=>c[a].clusters[e][u]===f)):[]),6&t.$$.dirty[0]|28&t.$$.dirty[1]&&o&&(n(33,N=[c[a].positions[0][0],c[a].positions[0][1]]),n(34,A=[c[a].positions[0][0],c[a].positions[0][1]]),c[a].positions.forEach((t=>{t[0]<N[0]&&n(33,N[0]=t[0],N),t[1]<N[1]&&n(33,N[1]=t[1],N),t[0]>A[0]&&n(34,A[0]=t[0],A),t[1]>A[1]&&n(34,A[1]=t[1],A)}))),1&t.$$.dirty[0]&&(L||(n(9,O=""),n(10,j=null)))},[L,c,a,u,f,d,x,w,_,O,j,V,I,R,B,l,s,r,$,v,b,y,t=>{Kt.set(t)},k,E,C,S,t=>20+(t[0]-N[0])/(A[0]-N[0])*(Hn-40),t=>20+(t[1]-N[1])/(A[1]-N[1])*(Xn-40),q,()=>{if(I){const t=$[M];t.name=O,t.color=R,h(ne,$[M]=t,$)}else if(V.length>0)if((t=>{const e={};t.forEach((t=>{$.forEach(((n,l)=>{n.ids.includes(t)&&(l in e||(e[l]=n.ids),e[l].splice(e[l].indexOf(t,1)))}))})),Object.keys(e).forEach((t=>{h(ne,$[t].ids=e[t],$)}))})(V),null!==j&&""!==j){const t=$[j].ids;V.forEach((e=>{t.includes(e)||t.push(e)})),h(ne,$[j].ids=t,$)}else{const t={name:O,color:R,ids:V},e=$;e.push(t),h(ne,$=e,$)}n(0,L=!1)},T,F,N,A,o,()=>k(null),t=>k(t.key),function(t){x=t,n(6,x)},()=>{n(11,V=x),n(12,I=!1),n(0,L=!0)},function(t){B=t,n(14,B)},()=>C(null),t=>E(t),()=>E(null),t=>C(t),()=>k(c[a].clusters[v[0]][u]),t=>({label:`<span\n                  class="cluster-indicator"\n                  style="background-color:${q(t,a,u,B,$,y)}"\n                ></span>&nbsp;${d[t]}`,value:t}),function(t){w=t,n(7,w)},()=>{n(11,V=w),n(12,I=!1),n(0,L=!0)},t=>F(t),t=>T(t),function(t){j=t,n(10,j),n(0,L)},function(t){O=t,n(9,O),n(0,L)},function(t){R=t,n(13,R)},()=>{n(0,L=!1)}]}const Jn={"/":class extends pt{constructor(t){super(),dt(this,t,Yn,Dn,o,{},[-1,-1,-1])}}};function Kn(e){let n,l,s,r,o,c;return l=new qt({}),o=new At({props:{routes:Jn}}),{c(){n=w("div"),at(l.$$.fragment),s=E(),r=w("main"),at(o.$$.fragment),N(n,"class","hasHeader")},m(t,e){b(t,n,e),ut(l,n,null),v(n,s),v(n,r),ut(o,r,null),c=!0},p:t,i(t){c||(st(l.$$.fragment,t),st(o.$$.fragment,t),c=!0)},o(t){rt(l.$$.fragment,t),rt(o.$$.fragment,t),c=!1},d(t){t&&y(n),ft(l),ft(o)}}}return new class extends pt{constructor(t){super(),dt(this,t,null,Kn,o,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
